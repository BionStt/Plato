@model ChannelsViewModel

<card class="card card-body-flush">
    <card-title>
        <h6 class="card-title">@T["Channels"]</h6>
    </card-title>
    <card-body>
      
        @if (Model.Channels != null)
        {
            <div class="list-group list-group-flush">
                @foreach (var channel in Model.Channels.Where(c => c.ParentId == 0))
                {
                    var css = channel.Id == Model.SelectedChannelId ? "list-group-item list-group-item-action active" : "list-group-item list-group-item-action";
                    <a asp-route-area="Plato.Discuss.Channels" asp-route-controller="Home" asp-route-action="Index" asp-route-id="@channel.Id" asp-route-alias="@channel.Alias" title="@channel.Description" class="@css">

                        @if (!String.IsNullOrWhiteSpace(channel.IconCss))
                        {
                            <div class="float-left mr-3">
                                <span class="channel-icon channel-icon-sm" style="background-color: @channel.BackColor; color: @channel.ForeColor">
                                    <i class="@channel.IconCss"></i>
                                </span>
                            </div>
                        }

                        @channel.Name

                        @*@{
                    var detail = channel.GetOrCreate<ChannelDetails>();
                }
                @if (detail != null)
                {
                    @detail.TotalTopics
                }
                <span class="badge badge-primary badge-pill float-right">14</span>*@
                    </a>
                }
            </div>

        }
        else
        {
          
            <div class="text-center my-4 text-muted">
                @T["Create channels to help you organize your discussions"]
                <br/><br/>
                <a asp-route-area="Plato.Discuss.Channels" asp-route-controller="Admin" asp-route-action="Index">
                    @T["Manage Channels"]
                </a>
            </div>
            
        }
        
    </card-body>
</card>


<a asp-route-area="Plato.Discuss.Channels" asp-route-controller="Home" asp-route-action="Index" class="btn btn-block btn-secondary mt-2">
    @T["All Channels"]
</a>

