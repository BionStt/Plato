@using Plato.Entities.Extensions
@model Doc

@if (Model.IsLocked)
{
    <authorize asp-permission="PostArticleComments">
        <authorize-success>
            <div class="btn btn-danger"style="cursor: default;" title="@T["This doc is locked and is not accepting new comments"]" data-toggle="tooltip">
                <i class="fal fa-fw fa-lock"></i>
                @T["Locked"]
            </div>
        </authorize-success>
    </authorize>
}
else
{
    @if (!Model.IsHidden())
    {
        <authorize asp-permission="PostArticleComments">
            <authorize-success>
                <a href="#" class="btn btn-primary" data-provide="postReply" title="@T["Add Comment"]">
                    <i class="fal fa-fw fa-plus"></i>
                    @T["Add Comment"]
                </a>
            </authorize-success>
            <authorize-fail>
                @if (base.CurrentUser == null)
                {
                    <a asp-route-area="Plato.Users" asp-route-controller="Account" asp-route-action="Login" asp-route-returnUrl="@ViewData["ReturnUrl"]" class="btn btn-primary" title="@T["New Comment"]">
                        <i class="fal fa-fw fa-lock"></i>
                        @T["Login to Comment"]
                    </a>
                }
            </authorize-fail>
        </authorize>
    }
}