if(typeof jQuery=="undefined")throw new Error("Plato UI requires jQuery 3.3.1");if(typeof $().modal=="undefined")throw new Error("Plato UI requires BootStrap 4.1.1");if(typeof $.Plato.Context=="undefined")throw new Error("Plato UI requires $.Plato.Context");if(typeof $.Plato.Http=="undefined")throw new Error("Plato UI requires $.Plato.Http");$(function(n,t,i){var w=i.Plato.Context,r=function(){var n="scrollTo",r=n+"Id",u={event:"click",onBeforeComplete:function(){},onComplete:function(){}},t={init:function(n,i){if(i){this[i]?this[i].apply(this,[n]):alert(i+" is not a valid method!");return}t.bind(n)},bind:function(i){var r=i.data(n).event;if(r)i.on(r,function(n){n.preventDefault();t.scrollTo(i)})},scrollTo:function(t){var u,r;if(jQuery.extend(jQuery.easing,{def:"easeOutQuad",easeInOutExpo:function(n,t,i,r,u){return t===0?i:t===u?i+r:(t/=u/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i}}),u=t.attr("href"),u&&(r=i(u),r.length>0)){i("html, body").stop().animate({scrollTop:r.offset().top-10},250,"easeInOutExpo",function(){t.data(n).onComplete(t,r)});t.data(n).onBeforeComplete(t,r)}}};return{init:function(){for(var o,h,e={},f=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:f=o}}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),e));else{var o=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,o);i(this).data(n,i.extend({},u,e))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},u,e)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),u=function(){var t="treeView",r=t+"Id",u={selectedNodeId:null,event:"click",toggleSelector:'[data-toggle="tree"]',linkSelector:".list-group-item",enableCheckBoxes:!0,onClick:null,onToggle:null,onExpand:null,onCollapse:null},n={init:function(t,i){if(i){this[i]?this[i].apply(this,[t]):alert(i+" is not a valid method!");return}n.bind(t)},bind:function(r){var f=r.data(t).linkSelector,e=r.data(t).toggleSelector,u=r.data(t).event;i(e).unbind(u).bind(u,function(u){var f=!0;r.data(t).onToggle&&(f=r.data(t).onToggle(r,i(this),u));f&&n._toggleNode(r,i(this).attr("data-node-id"),u)});r.on("change",'input[type="checkbox"], input[type="radio"]',function(){r.find(".list-group-item").each(function(){i(this).removeClass("active").removeClass("checked")});r.find("input:checked").each(function(){var r=i(this).attr("id"),n=i('[for="'+r+'"]'),t;n.length>0&&(t=n.closest(".list-group-item"),t.addClass("active").addClass("checked"))})});r.on("change",'input[type="checkbox"]',function(){var u=i(this).attr("data-node-id"),f=n.getNodeListItem(r,u),e=f.find("ul"),t=e.find('[type="checkbox"]');t.length>0&&(i(this).is(":checked")?t.prop("checked",!0):t.prop("checked",!1))});r.find(f).unbind(u).bind(u,function(n){if(r.data(t).onClick)r.data(t).onClick(r,i(this),n)});r.find(".list-group-item").unbind("mouseover").bind("mouseover",function(n){n.stopPropagation();i(this).parents(".list-group-item").each(function(){i(this).hasClass("checked")||i(this).removeClass("active")});i(this).addClass("active")});r.find(".list-group-item").unbind("mouseleave").bind("mouseleave",function(){i(this).hasClass("checked")||i(this).removeClass("active")})},expand:function(i){var r=i.data(t).selectedNodeId;r&&(i.hasClass("show")||n._expand(i,r))},collapse:function(i){var r=i.data(t).selectedNodeId;r&&i.hasClass("show")&&n._collapse(i,r)},toggle:function(t){t.hasClass("show")?n.collapse(t):n.expand(t)},expandAll:function(t){t.find(".list-group-item").each(function(){n._expand(t,i(this).attr("id"))})},expandSelected:function(t){t.find(".active").each(function(){n._expandParents(t,i(this).attr("id"))})},collapseAll:function(t){t.find(".list-group-item").each(function(){n._collapse(t,i(this).attr("id"))})},_toggleNode:function(t,i,r){var u=n.getNodeListItem(t,i);u.hasClass("show")?n._collapse(t,i,!0,r):n._expand(t,i,!0,r)},_expand:function(i,r,u,f){var o=n.getNodeListItem(i,r),e=o.find("ul").first();if(o.addClass("show"),u?e.slideDown("fast"):e.show(),i.data(t).onExpand)i.data(t).onExpand(i,e,f)},_expandParents:function(t,r){var u=n.getNodeListItem(t,r);u.parents(".list-group-item").each(function(){n._expand(t,i(this).attr("id"),!1)})},_collapse:function(i,r,u,f){var o=n.getNodeListItem(i,r),e=o.find("ul").first();if(o.removeClass("show"),u?e.slideUp("fast"):e.hide(),i.data(t).onCollapse)i.data(t).onCollapse(i,e,f)},getNodeListItem:function(n,t){return n.find("#"+t)},getNodeToggler:function(n,t){var i=n.find('[data-node-id="'+t+'"]');if(i.length>0)return i[0].tagName==="I"?i:i.find("i")}};return{init:function(){for(var o,h,e={},f=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:f=o}}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(t,i.extend({},i(this).data(t),e));else{var o=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,o);i(this).data(t,i.extend({},u,e))}n.init(i(this),f)});f&&(n[f]?(h=i("body"),h.data(t,i.extend({},u,e)),n[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),f=function(){var r="autoComplete",f=r+"Id",e={page:1,pageSize:10,config:{},target:null,enablePaging:!0,alwaysShow:!0,onShow:null,onHide:null,onLoad:function(n,t,i){var u,f;if(i){for(t.empty(),u=0;u<i.data.length;u++)t.append(this.buildItem(n,i.data[u]));f=n.data(r).enablePaging;f&&i.total>i.size&&t.append(this.buildPager(n,i))}else t.empty().append(this.buildNoResults(n));if(n.data(r).onLoaded)n.data(r).onLoaded(n,t);t.platoUI()},onLoaded:null,onKeyDown:null,onItemClick:null,buildItem:function(n,t){var u=n.data(r).itemTemplate,e=n.data("autocompleteItemCss")||n.data(r).itemCss,f;return u=u.replace(/\{itemCss}/g,e),n.data(r)&&n.data(r).parseItemTemplate&&(u=n.data(r).parseItemTemplate(u,t)),f=i(u),f.click(function(i){if(n.data(r).onItemClick)n.data(r).onItemClick(n,t,i,f)}),f},buildPager:function(n,t){var r=i('<div class="d-block">');return t.page>1?r.append(this.buildPrev(n,t.page)):r.append(i('<div class="float-left col-3">')),r.append(this.buildInfo(n,t)),t.page<t.totalPages?r.append(this.buildNext(n,t.page)):r.append(i('<div class="float-left col-3">')),r},buildPrev:function(n,t){var u=i("<i>").addClass("fa fa-chevron-left"),r=i("<a>").attr("href","#").addClass("list-group-item list-group-item-action float-left col-3 text-center").append(u);return r.click(function(i){i.preventDefault();i.stopPropagation();t>1&&n.autoComplete({page:t-=1},"update")}),r},buildNext:function(n,t){var u=i("<i>").addClass("fa fa-chevron-right"),r=i("<a>").attr("href","#").addClass("list-group-item list-group-item-action float-left col-3 text-center").append(u);return r.click(function(i){i.preventDefault();i.stopPropagation();n.autoComplete({page:t+=1},"update")}),r},buildNoResults:function(n){var u=n.data(r).noResultsText,f=i("<div>").addClass("text-center p-4").append(u),t=i('<li class="no-results">');return t.append(f),t},buildInfo:function(n,t){var r="{0} of {1}",u,f;return r=r.replace("{0}",t.page),r=r.replace("{1}",t.totalPages),u="{0} results",t.total===1&&(u="{0} result"),u=u.replace("{0}",t.total),f=i("<div>").addClass("list-group-item float-left col-6 text-center"),f.text(r+", "+u),f},itemCss:"dropdown-item",itemTemplate:'<a class="{itemCss}" href="{url}"><span style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;max-width: 85%;">{text}<\/span> <span style="opacity: .7;">@{value}<\/span><span class="float-right">{rank}<\/span><\/a>',parseRequestValue:null,parseItemTemplate:function(n,t){return t.text&&(n=n.replace(/\{text}/g,t.text)),t.value&&(n=n.replace(/\{value}/g,t.value)),t.url&&(n=n.replace(/\{url}/g,t.url)),t.rank?t.rank>0?n.replace(/\{rank}/g,'<span class="label label-right label-primary">'+t.rank+"%<\/span>"):n.replace(/\{rank}/g,""):n.replace(/\{rank}/g,"")},loaderTemplate:'<p class="text-center"><i class="fal fa-spinner fa-spin" ><\/i><\/p >',noResultsText:"Sorry no results matched your search!",valueField:"Keywords"},u={init:function(n,t){if(t){this[t]!==null?this[t].apply(this,[n]):alert(t+" is not a valid method!");return}var i=n.attr("autocomplete");(typeof i==typeof undefined||i===!1)&&n.attr("autocomplete","off");u.bind(n)},bind:function(n){n.bind("focus",function(){u.resetUI(i(this));i(this).val().length===0?u.hide(i(this)):u.show(i(this),function(){u.update(n)})});n.bind("keydown",function(t){if(n.data(r).onKeyDown)n.data(r).onKeyDown(i(this),t)});n.typeSpy({onKeyUp:function(n,t){u.resetUI(n);t.keyCode===27&&u.hide(n)},onChange:function(t,i){u.setPageIndex(n,1);i.keyCode!==27&&i.keyCode!==9&&(t.val().length===0?u.hide(t):(u.show(t),u.update(t)))}});i(t).click(function(t){var i=t.target;if(i){if(i.tagName.toUpperCase()==="INPUT")return;if(i.tagName.toUpperCase()==="A")return;if(i.tagName.toUpperCase()==="UL")return;if(i.tagName.toUpperCase()==="I")return}u.hide(n)})},unbind:function(n){n.unbind("focus").unbind("keydown");n.typeSpy("unbind")},show:function(n,t){var i=this.getTarget(n);i.length>0&&(i.hasClass("hidden")&&i.removeClass("hidden"),i.hasClass("show")||(i.addClass("show"),t&&t()))},hide:function(n,t){var i=this.getTarget(n);i.length>0&&(i.hasClass("hidden")||i.addClass("hidden"),i.hasClass("show")&&(i.removeClass("show"),t&&t()))},update:function(t){var f=u.getTarget(t),o,e,i,s;f.length!==0&&(o=t.data(r).loaderTemplate,f.empty().append(o),e=t.data(r).page,e&&this.setPageIndex(t,e),i=this.getConfig(t),s=this.getParsedValue(t),i.method&&i.method.toUpperCase()==="POST"&&(i.headers={"Content-Type":"application/json; charset=utf-8"}),typeof i.data!="string"&&(i.data=JSON.stringify(i.data)),n.$.Plato.Http(i).done(function(n){if(n.statusCode===200&&t.data(r).onLoad)t.data(r).onLoad(t,f,n.result)}))},getConfig:function(n){var f=i.extend({},n.data(r).config),t=n.data("autocompleteUrl")||f.url,o=this.getPageIndex(n)||1,s=this.getPageSize(n)||10,e=this.getParsedValue(n)||"",u;return t&&(t.indexOf("{page}")>=0&&(t=t.replace(/\{page}/g,o)),t.indexOf("{pageSize}")>=0&&(t=t.replace(/\{pageSize}/g,s)),u=this.getValueField(n),e?(u&&t.indexOf("{"+u+"}")>=0&&(t=t.replace("{"+u+"}",e)),typeof f.data=="object"&&f.method.toUpperCase()==="POST"&&u&&(f.data[u]=e)):t=t.replace("{"+u+"}",""),f.url=t),f},getValueField:function(n){return n.data("autocompleteValueField")||n.data(r).valueField},getParsedValue:function(n){var t=n.val();return n.data(r)&&n.data(r).parseRequestValue&&(t=n.data(r).parseRequestValue(t)),t},setPageIndex:function(n,t){n.data(r).page=t},getPageIndex:function(n){return n.data("autocompletePageIndex")||n.data(r).page},setPageSize:function(n,t){n.data(r).pageSize=t},getPageSize:function(n){return n.data("autocompletePageSize")||n.data(r).pageSize},getTarget:function(n){var s=n.data("autocompleteTarget")||n.data(r).target,e=n.data(f)+"_target",o,t,h,u;if(s){if(o=i(s),o.length>0)return o}else return(t=n.next(),t.hasClass("dropdown-menu"))?(t.attr("id")||t.attr("id",e),t):(h=n.data(r).loaderTemplate,u=i("#"+e),u.length===0&&(u=i("<ul>").attr("id",e).css({width:"100%"}).addClass("i-dropdown-menu i-dropdown-menu-nowrap").html(h),n.after(u)),u);return null},alwaysShow:function(n){return n.data("autocompleteAlwaysShow")?n.data("autocompleteAlwaysShow"):n.data(r)?n.data(r).alwaysShow:!0},resetUI:function(n){var t=u.getTarget(n);t}};return{init:function(){for(var t,h,o={},n=null,s=0;s<arguments.length;++s)if(t=arguments[s],t)switch(t.constructor){case Object:i.extend(o,t);break;case String:n=t}if(this.length>0)return this.each(function(){if(i(this).data(f))i(this).data(r,i.extend({},i(this).data(r),o));else{var t=r+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(f,t);i(this).data(r,i.extend({},e,o))}u.init(i(this),n)});n&&(u[n]?(h=i("body"),h.data(r,i.extend({},e,o)),u[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}(),e=function(){var n="userAutoComplete",r=n+"Id",u={valueField:"keywords",config:{method:"GET",url:"api/users/get?page={page}&size={pageSize}&keywords={keywords}",data:{sort:"LastLoginDate",order:"Desc"}},itemTemplate:'<a class="{itemCss}" href="{url}"><span class="avatar avatar-sm mr-2"><span style="background-image: url(/users/photo/{id});"><\/span><\/span>{displayName}<span class="float-right">@{userName}<\/span><\/a>',parseItemTemplate:function(n,t){return n=t.id?n.replace(/\{id}/g,t.id):n.replace(/\{id}/g,"0"),n=t.displayName?n.replace(/\{displayName}/g,t.displayName):n.replace(/\{displayName}/g,"(no username)"),n=t.userName?n.replace(/\{userName}/g,t.userName):n.replace(/\{userName}/g,"(no username)"),n=t.email?n.replace(/\{email}/g,t.email):n.replace(/\{email}/g,""),t.agent_url?n.replace(/\{url}/g,t.url):n.replace(/\{url}/g,"#")},onKeyDown:function(n,t){t.keyCode===13&&t.preventDefault()},onItemClick:function(n,t,i){i.preventDefault()}},t={init:function(t,i,r){if(r)return r(this);if(i)return this[i]!=null?this[i].apply(this,[t]):alert(i+" is not a valid method!"),null;t.autoComplete(t.data(n),i)}};return{init:function(){for(var o,h,e={},f=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:f=o}}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),e));else{var o=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,o);i(this).data(n,i.extend({},u,e))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},u,e)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),o=function(){var n="labelutoComplete",r=n+"Id",u={valueField:"keywords",config:{method:"GET",url:"api/labels/get?page={page}&size={pageSize}&keywords={keywords}",data:{sort:"TotalEntities",order:"Desc"}},itemCss:"dropdown-item",itemTemplate:'<a class="{itemCss}" href="{url}"><span class="btn btn-sm label font-weight-bold" style="background-color: {backColor}; color: {foreColor}">{name}<\/span><span title="Occurrences" data-toggle="tooltip" class="float-right btn btn-sm btn-secondary">{totalEntities.text}<\/span><\/a>',parseItemTemplate:function(n,t){return n=t.id?n.replace(/\{id}/g,t.id):n.replace(/\{id}/g,"0"),n=t.name?n.replace(/\{name}/g,t.name):n.replace(/\{name}/g,"(no name)"),n=t.foreColor?n.replace(/\{foreColor}/g,t.foreColor):n.replace(/\{foreColor}/g,""),n=t.backColor?n.replace(/\{backColor}/g,t.backColor):n.replace(/\{backColor}/g,""),n=t.totalEntities.text?n.replace(/\{totalEntities.text}/g,t.totalEntities.text):n.replace(/\{totalEntities.text}/g,""),t.alias?n.replace("{alias}",t.alias):n.replace("{alias}","")},onKeyDown:function(n,t){t.keyCode===13&&t.preventDefault()},onItemClick:function(n,t,i){i.preventDefault()}},t={init:function(t,i,r){if(r)return r(this);t.autoComplete(t.data(n),i)}};return{init:function(){for(var e,h,o={},f=null,s=0;s<arguments.length;++s)if(e=arguments[s],e)switch(e.constructor){case Object:i.extend(o,e);break;case String:f=e}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),o));else{var e=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,e);i(this).data(n,i.extend({},u,o))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},u,o)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),s=function(){var t="typeSpy",u=t+"Id",f={interval:1e3,onChange:null,onKeyUp:null},r={timer:null,init:function(n){this.bind(n)},bind:function(n){n.bind("keyup",function(u){if(u.keyCode&&u.keyCode===13&&(u.preventDefault(),r.stopTimer(),n.data(t).onComplete))n.data(t).onComplete(i(this),u);if(i(this).val()!=="")r.startTimer(i(this),u);else{if(n.data(t).onChange)n.data(t).onChange(i(this),u);r.stopTimer()}if(n.data(t).onKeyUp)n.data(t).onKeyUp(i(this),u)})},unbind:function(n){n.unbind("keyup")},startTimer:function(n,i){this.stopTimer();this.timer=setTimeout(function(){if(n.data(t).onChange)n.data(t).onChange(n,i)},n.data(t).interval)},stopTimer:function(){n.clearTimeout(this.timer);this.timer=null}};return{init:function(){for(var o,h,e={},n=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:n=o}}if(this.length>0)return this.each(function(){if(i(this).data(u))i(this).data(t,i.extend({},i(this).data(t),e));else{var o=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(u,o);i(this).data(t,i.extend({},f,e))}r.init(i(this),n)});n&&(r[n]?(h=i("body"),h.data(t,i.extend({},f,e)),r[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}(),h=function(){var n="filterList",r=n+"Id",u={target:null,empty:null},t={timer:null,init:function(n){this.bind(n)},bind:function(n){n.bind("keydown",function(n){n.keyCode&&n.keyCode===13&&n.preventDefault()});n.bind("keyup",function(){t.filter(i(this))})},unbind:function(n){n.unbind("keydown");n.unbind("keyup")},filter:function(n){var u=this.getListItems(n),o=this.getEmpty(n),f=n.val().trim(),e=u.length,s=0,r,t;for(f.length===0&&u.show(),r=0,t=null,r=0;r<e;r++)t=i(u[r]),t.length>0&&t.data("filterValue")&&t.data("filterValue").toLowerCase().startsWith(f)&&(t.parent(".list-group").show(),t.show());for(r=0;r<e;r++)t=i(u[r]),t.length>0&&t.data("filterValue")&&(t.data("filterValue").toLowerCase().startsWith(f)||t.find(".list-group").is(":visible")||(t.hide(),s++));s===e?o.show():o.hide()},getList:function(t){var r=t.data("filterListTarget")||t.data(n).target;return typeof r=="string"?i(r):r},getListItems:function(n){var t=this.getList(n);return t.find(".list-group-item")},getEmpty:function(t){var r=t.data("filterListEmpty")||t.data(n).empty;return typeof r=="string"?i(r):r}};return{init:function(){for(var e,h,o={},f=null,s=0;s<arguments.length;++s)if(e=arguments[s],e)switch(e.constructor){case Object:i.extend(o,e);break;case String:f=e}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),o));else{var e=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,e);i(this).data(n,i.extend({},u,o))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},u,o)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),c=function(){var n="tagIt",r=n+"Id",u={items:[],ensureUnique:!0,maxItems:0,store:null,itemTemplate:'<li class="tagit-list-item">{text} <a href="#" class="tagit-list-item-delete"><i class="fal fa-times"><\/i><\/a><\/li>',parseItemTemplate:function(n,t){return t.text&&(n=n.replace(/\{text}/g,t.text)),t.value&&(n=n.replace(/\{value}/g,t.value)),n},onAddItem:function(t,i){var r=t.data(n).items;r.push({text:i.text,value:i.value})}},t={init:function(n,t,r){if(r)return r(this);if(t)return this[t]!=null?this[t].apply(this,[n]):alert(t+" is not a valid method!"),null;this.bind(n);var u=this.getStore(n);return u&&u.val()!==""&&(this.setItems(n,i.parseJSON(u.val())),this.update(n)),null},bind:function(r){var u=this.getInput(r),f,e;u&&(r.bind("click",function(){u.focus()}),f=function(){r.addClass("form-control-active");i(this).val()!==""&&i(this).autoComplete("show")},e=function(){r.removeClass("form-control-active")},u.bind("focus",f),u.bind("blur",e),u.autoComplete({onItemClick:function(i,r,u){if(u.preventDefault(),t.isUnique(i,r)){if(i.data(n).onAddItem)i.data(n).onAddItem(i,r,u);t.update(i)}t.focus(i);t.show(i)}}))},unbind:function(n){var t=this.getInput(n);t&&(t.unbind("keyup"),t.unbind("focus"),t.unbind("blur"),t.autoComplete("unbind"))},show:function(n){var t=this.getInput(n);t&&t.autoComplete("show")},hide:function(n){var t=this.getInput(n);t&&t.autoComplete("hide")},update:function(t){var i,r,e,u,f;if(t.data(n).onBeforeUpdate&&t.data(n).onBeforeUpdate(),this.removeItems(t),i=this.getItems(t),i){for(r=i.length-1;r>=0;r--)e=this.buildItem(t,i[r],r),t.find("li:eq(0)").before(e);u=this.getInput(t);f=this.getMaxItems(t);f>0&&i.length>=f?u&&u.hide():u&&u.show()}this.fixUI(t);this.serialize(t)},fixUI:function(n){var u=n.find(".tagit-list-item"),t=this.getInput(n),i=this.getInputLi(n),r;u.length>0?(t&&(r=t.attr("placeholder"),t.data("tagitPlaceHolder",r),t.attr("placeholder","")),i&&i.css({"min-width":"30%",width:"auto"})):(t&&t.data("tagitPlaceHolder")&&t.attr("placeholder",t.data("tagitPlaceHolder")),i&&i.css({"min-width":"initial",width:"100%"}))},reset:function(n){this.setInput(n,"")},clear:function(n){this.setStore(n,"");this.setItems(n,[]);this.update(n)},focus:function(n){var t=this.getInput(n),r=this.getItems(n),i=this.getMaxItems(n);i>0&&r.length<i?t&&t.is(":visible")&&t.focus():t&&t.is(":visible")&&t.focus()},select:function(n){var t=this.getInput(n);t.length>0&&t.select()},buildItem:function(r,u,f){var s=this.getItemTemplate(r),e,o;return r.data(n)&&r.data(n).parseItemTemplate&&(s=r.data(n).parseItemTemplate(s,u)),e=i(s),e.data("tagitItem",u),o=e.find(".tagit-list-item-delete"),o.length>0&&(o.data("tagitItemIndex",f),o.click(function(n){n.preventDefault();var u=t.getItems(r);u.splice(i(this).data("tagitItemIndex"),1);t.update(r);t.focus(r)})),e},removeItems:function(n){n.find(".tagit-list-item").remove()},itemExists:function(n,t){var r=this.getItems(n),i;if(r)for(i=0;i<r.length;i++)if(r[i]===t)return!0;return!1},isUnique:function(t,i){var e=t.data(n).ensureUnique,r;if(e===!1)return!0;var s=this.getInput(t),o={value:i.value},f=this.getItems(t),u=-1;for(r=0;r<f.length;r++)o.value===f[r].value&&(u=r);return u===-1?!0:(t.data(n).highlightIndex=u,this.highlight(t),!1)},highlight:function(t){var r=t.data(n).highlightIndex,i=t.find("li:eq("+r+")");i.length>0&&(i.addClass("bg-warning"),window.setTimeout(function(){i.removeClass("bg-warning")},1e3))},getInputLi:function(n){var t=n.find(".tagit-list-item-input");return t.length>0?t:null},getMaxItems:function(t){return t.data("tagitMaxItems")||t.data(n).maxItems},getInput:function(n){var i=this.getInputLi(n),t;return i&&(t=i.find("input"),t.length>0)?t:null},getItemTemplate:function(t){return t.data("tagitItemTemplate")||t.data(n).itemTemplate},setInput:function(n,t){var i=n.find("input");i&&i.val(t)},getItems:function(t){return t.data("tagitItems")||t.data(n).items},setItems:function(t,i){t.data("tagitItems",i);t.data(n).items=i},getStore:function(t){var u=t.data("tagitStore")||t.data(n).store,r;return u&&(r=i(u),r.length>0)?r:null},setStore:function(n,t){var i=this.getStore(n);i!=null&&i.val(t)},serialize:function(n){var t=this.getStore(n),i;t&&(i=this.getItems(n),i!=null&&(i.length>0?t.val(JSON.stringify(i)):t.val(""),t.trigger("change")))}};return{init:function(){for(var o,h,e={},f=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:f=o}}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),e));else{var o=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,o);i(this).data(n,i.extend({},u,e))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},u,e)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),l=function(n){var t="userTagIt",f=t+"Id",u={},r={init:function(n,t,i){return i?i(this):t?(this[t]!=null?this[t].apply(this,[n]):alert(t+" is not a valid method!"),null):(this.bind(n),null)},bind:function(t){t.tagIt(i.extend({itemTemplate:'<li class="tagit-list-item"><span class="avatar avatar-sm mr-2"><span style="background-image: url(/users/photo/{id});"><\/span><\/span>{displayName} <a href="#" class="tagit-list-item-delete"><i class="fal fa-times"><\/i><\/a><\/li>',parseItemTemplate:function(n,t){return n=t.id?n.replace(/\{id}/g,t.id):n.replace(/\{id}/g,"0"),t.displayName?n.replace(/\{displayName}/g,t.displayName):n.replace(/\{displayName}/g,"(no username)")},onAddItem:function(n){n.val("")}},u,n));r.getInput(t).userAutoComplete(i.extend({onItemClick:function(n,i,u){var f,e;u.preventDefault();f=r.getIndex(t,i);f===-1?(e=t.data("tagIt"),e.items.push(i),t.tagIt("update"),t.tagIt("focus"),t.tagIt("select"),t.tagIt("show")):t.tagIt({highlightIndex:f},"highlight")}},u,n))},getInput:function(n){return n.find(".tagit-list-item-input").find("input")},getIndex:function(n,t){var f=n.data("tagIt").ensureUnique,e=n.data("tagIt"),u=e.items,r=-1,i;if(f===!1)return r;for(i=0;i<u.length;i++)t.id===u[i].id&&(r=i);return r}};return{init:function(){for(var o,h,e={},n=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:n=o}}if(this.length>0)return this.each(function(){if(i(this).data(f))i(this).data(t,i.extend({},i(this).data(t),e));else{var o=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(f,o);i(this).data(t,i.extend({},u,e))}r.init(i(this),n)});n&&(r[n]?(h=i("body"),h.data(t,i.extend({},u,e)),r[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}(),a=function(n){var t="labelTagIt",f=t+"Id",u={},r={init:function(n,t,i){return i?i(this):t?(this[t]!=null?this[t].apply(this,[n]):alert(t+" is not a valid method!"),null):(this.bind(n),null)},bind:function(t){t.tagIt(i.extend({itemTemplate:'<li class="tagit-list-item"><span class="btn btn-sm label font-weight-bold" style="background-color: {backColor}; color: {foreColor};">{name} <a href="#" class="tagit-list-item-delete" data-toggle="tooltip" title="Delete" style="color: {foreColor};"><i class="fal fa-times"><\/i><\/a><\/span><\/li>',parseItemTemplate:function(n,t){return n=t.id?n.replace(/\{id}/g,t.id):n.replace(/\{id}/g,"0"),n=t.name?n.replace(/\{name}/g,t.name):n.replace(/\{name}/g,"(no name)"),n=t.foreColor?n.replace(/\{foreColor}/g,t.foreColor):n.replace(/\{foreColor}/g,""),t.backColor?n.replace(/\{backColor}/g,t.backColor):n.replace(/\{backColor}/g,"")},onAddItem:function(n){n.val("")}},u,n));r.getInput(t).labelAutoComplete(i.extend({onItemClick:function(n,i,u){var f,e;u.preventDefault();f=r.getIndex(t,i);f===-1?(e=t.data("tagIt"),e.items.push(i),t.tagIt("update")):t.tagIt({highlightIndex:f},"highlight");t.tagIt("focus");t.tagIt("select")}},u,n))},getInput:function(n){return n.find(".tagit-list-item-input").find("input")},getIndex:function(n,t){var f=n.data("tagIt").ensureUnique,e=n.data("tagIt"),u=e.items,r=-1,i;if(f===!1)return r;for(i=0;i<u.length;i++)t.id===u[i].id&&(r=i);return r}};return{init:function(){for(var o,h,e={},n=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:n=o}}if(this.length>0)return this.each(function(){if(i(this).data(f))i(this).data(t,i.extend({},i(this).data(t),e));else{var o=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(f,o);i(this).data(t,i.extend({},u,e))}r.init(i(this),n)});n&&(r[n]?(h=i("body"),h.data(t,i.extend({},u,e)),r[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}(),v=function(){var n="selectDropdown",r=n+"Id",u={event:"click",items:[],highlightIndex:0,ensureUnique:!0,maxItems:0,store:null,itemTemplate:'<li class="list-group-item select-dropdown-item">{text} <a href="#" class="tagit-list-item-delete"><i class="fal fa-times"><\/i><\/a><\/li>',itemTemplateEmpty:'<li class="list-group-item">No Results<\/li>',parseItemTemplate:function(n,t){return t.text&&(n=n.replace(/\{text}/g,t.text)),t.value&&(n=n.replace(/\{value}/g,t.value)),n},onShow:null,onChange:null,onUpdated:null},t={init:function(n,r){if(r){this[r]?this[r].apply(this,[n]):alert(r+" is not a valid method!");return}t.bind(n);var u=this.getStore(n);u&&u.val()!==""&&(this.setItems(n,i.parseJSON(u.val())),this.update(n))},bind:function(t){var r=t.find(".dropdown-menu");t.on("shown.bs.dropdown",function(){if(t.data(n).onShow)t.data(n).onShow(t,r)});r.on("change",'input[type="radio"], input[type="checkbox"]',function(r){if(t.data(n).onChange)t.data(n).onChange(t,i(this),r)})},unbind:function(n){n.unbind("shown.bs.dropdown");n.find(".dropdown-menu").unbind("change")},update:function(t){var f=this.getPreview(t),u=this.getItems(t),r;if(f.empty(),u&&u.length>0)for(r=0;r<u.length;r++)f.append(this.buildItem(t,u[r],r));else f.append(i(t.data(n).itemTemplateEmpty));if(this.serialize(t),t.data(n).onUpdated)t.data(n).onUpdated(t)},buildItem:function(r,u,f){var s=this.getItemTemplate(r),e,o;return r.data(n)&&r.data(n).parseItemTemplate&&(s=r.data(n).parseItemTemplate(s,u)),e=i(s),e.data("tagitItem",u),o=e.find(".select-dropdown-delete"),o.length>0&&(o.data("selectDropdownItemIndex",f),o.click(function(n){n.preventDefault();var u=t.getItems(r);u.splice(i(this).data("selectDropdownItemIndex"),1);t.update(r)})),e},getItemTemplate:function(t){return t.data("selectDropdownItemTemplate")||t.data(n).itemTemplate},highlight:function(t){var r=this.getPreview(t),u=t.data(n).highlightIndex,i=r.find("li:eq("+u+")");i.length>0&&(i.addClass("bg-warning"),window.setTimeout(function(){i.removeClass("bg-warning")},1e3))},clear:function(n){this.setStore(n,"");this.setItems(n,[]);this.update(n)},getItems:function(t){return t.data(n).items},setItems:function(t,i){t.data(n).items=i},getStore:function(t){var u=t.data("selectDropdownStore")||t.data(n).store,r;return u&&(r=i(u),r.length>0)?r:null},setStore:function(n,t){var i=this.getStore(n);i!=null&&i.val(t)},serialize:function(n){var t=this.getStore(n),i;t&&(i=this.getItems(n),i!=null&&(i.length>0?t.val(JSON.stringify(i)):t.val(""),t.trigger("change")))},getPreview:function(n){var t=n.find(".select-dropdown-preview");if(t.length===0&&(t=n.next(),!t.hasClass("select-dropdown-preview")))throw new Error("A preview area coulod not be found for the select dropdown.");return t}};return{init:function(){for(var e,h,o={},f=null,s=0;s<arguments.length;++s)if(e=arguments[s],e)switch(e.constructor){case Object:i.extend(o,e);break;case String:f=e}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),o));else{var e=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,e);i(this).data(n,i.extend({},u,o))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},u,o)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),y=function(n){var t="labelSelectDropdown",f=t+"Id",u={},r={init:function(n,t,i){return i?i(this):t?(this[t]!=null?this[t].apply(this,[n]):alert(t+" is not a valid method!"),null):(this.bind(n),null)},bind:function(t){t.selectDropdown(i.extend({itemTemplate:'<li class="list-group-item select-dropdown-item"><span class="btn btn-sm label font-weight-bold" style="background-color: {backColor}; color: {foreColor};">{name}<\/span><a href="#" class="btn btn-secondary float-right select-dropdown-delete" data-toggle="tooltip" title="Delete"><i class="fal fa-times"><\/i><\/a><\/li>',parseItemTemplate:function(n,t){return n=t.id?n.replace(/\{id}/g,t.id):n.replace(/\{id}/g,"0"),n=t.name?n.replace(/\{name}/g,t.name):n.replace(/\{name}/g,"(no name)"),n=t.foreColor?n.replace(/\{foreColor}/g,t.foreColor):n.replace(/\{foreColor}/g,""),t.backColor?n.replace(/\{backColor}/g,t.backColor):n.replace(/\{backColor}/g,"")},onShow:function(n,t){var i=t.find('[type="search"]');i.length>0&&i.focus().labelAutoComplete("show").labelAutoComplete("update")},onUpdated:function(n){var u=n.find(".dropdown-menu"),t=n.data("selectDropdown").items,r;if(u.find("label").each(function(){var n=i("#"+i(this).attr("for"));n.length>0&&(n.prop("checked",!1),i(this).removeClass("active"))}),t&&t.length>0)for(r=0;r<t.length;r++){var f="label-"+t[r].id,e=u.find("#"+f),o=u.find('[for="'+f+'"]');e.length>0&&e.prop("checked",!0);o.length>0&&o.addClass("active")}}},u,n));r.getInput(t).labelAutoComplete(i.extend({itemTemplate:'<input type="checkbox" value="{id}" id="label-{id}"/><label for="label-{id}" class="{itemCss}"><i class="fal mr-2 check-icon"><\/i><span class="btn btn-sm label font-weight-bold" style="background-color: {backColor}; color: {foreColor}">{name}<\/span><span title="Occurrences" data-toggle="tooltip" class="float-right btn btn-sm btn-secondary">{totalEntities.text}<\/span><\/label>',onItemClick:function(n,i,u){u.preventDefault();u.stopPropagation();var f=r.getIndex(t,i);f===-1?t.data("selectDropdown").items.push(i):t.data("selectDropdown").items.splice(f,1);t.selectDropdown("update")},onLoaded:function(){t.selectDropdown("update")}},u,n))},getInput:function(n){return n.find('[type="search"]')},getIndex:function(n,t){var f=n.data("selectDropdown").ensureUnique,e=n.data("selectDropdown"),u=e.items,r=-1,i;if(f===!1)return r;for(i=0;i<u.length;i++)t.id===u[i].id&&(r=i);return r}};return{init:function(){for(var o,h,e={},n=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:n=o}}if(this.length>0)return this.each(function(){if(i(this).data(f))i(this).data(t,i.extend({},i(this).data(t),e));else{var o=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(f,o);i(this).data(t,i.extend({},u,e))}r.init(i(this),n)});n&&(r[n]?(h=i("body"),h.data(t,i.extend({},u,e)),r[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}(),p=function(n){var t="categorySelectDropdown",f=t+"Id",r={},u={init:function(n,t,i){return i?i(this):t?(this[t]!=null?this[t].apply(this,[n]):alert(t+" is not a valid method!"),null):(this.bind(n),null)},bind:function(t){t.selectDropdown(i.extend({itemTemplate:'<li class="list-group-item"><span class="btn btn-sm label font-weight-bold" style="background-color: {backColor}; color: {foreColor};">{name}<\/span><a href="#" class="btn btn-secondary float-right select-dropdown-delete" data-toggle="tooltip" title="Delete"><i class="fal fa-times"><\/i><\/a><\/li>',parseItemTemplate:function(n,t){var r=i('<div class="list-group-item">');return r.append(t.clone()),r},onAddItem:function(n){n.val("")},onShow:function(n,t){var i=t.find('[data-provide="tree"]'),r=t.find('[type="search"]');r.length>0&&r.focus().filterList({target:i});i.length>0&&i.treeView("expandSelected")},onChange:function(n,r,f){f.preventDefault();f.stopPropagation();n.find("input:checked").each(function(){var e=i(this).attr("id"),r=n.find('[for="'+e+'"]'),f;r.length>0&&(f=u.getIndex(t,r),f===-1?(n.data("selectDropdown").items=[],n.data("selectDropdown").items.push(r),n.selectDropdown("update")):n.selectDropdown({highlightIndex:f},"highlight"))})}},r,n));t.find('[data-provide="tree"]').treeView(i.extend({onClick:function(n,t,r){r.preventDefault();r.stopPropagation();var u=t.find("input").first();u.each(function(){i(this).is(":checked")?i(this).prop("checked",!1):i(this).prop("checked",!0);i(this).trigger("change")})},onToggle:function(n,t,i){return i.preventDefault(),i.stopPropagation(),!0}},r,n),"expandSelected")},getIndex:function(n,t){var f=n.data("selectDropdown").ensureUnique,e=n.data("selectDropdown"),u=e.items,r=-1,i;if(f===!1)return r;for(i=0;i<u.length;i++)t.attr("for")===u[i].attr("for")&&(r=i);return r}};return{init:function(){for(var o,h,e={},n=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:n=o}}if(this.length>0)return this.each(function(){if(i(this).data(f))i(this).data(t,i.extend({},i(this).data(t),e));else{var o=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(f,o);i(this).data(t,i.extend({},r,e))}u.init(i(this),n)});n&&(u[n]?(h=i("body"),h.data(t,i.extend({},r,e)),u[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}();i.fn.extend({scrollTo:r.init,treeView:u.init,autoComplete:f.init,typeSpy:s.init,filterList:h.init,tagIt:c.init,userAutoComplete:e.init,labelAutoComplete:o.init,userTagIt:l.init,labelTagIt:a.init,selectDropdown:v.init,labelSelectDropdown:y.init,categorySelectDropdown:p.init});i.fn.platoUI=function(){this.find('[data-provide="scroll"]').scrollTo();this.find('[data-provide="select-dropdown"]').selectDropdown();this.find('[data-provide="label-select-dropdown"]').labelSelectDropdown();this.find('[data-provide="category-select-dropdown"]').categorySelectDropdown();this.find('[data-provide="tree"]').treeView();this.find('[data-provide="filter-list"]').filterList();this.find('[data-provide="autoComplete"]').autoComplete();this.find('[data-provide="userAutoComplete"]').userAutoComplete();this.find('[data-provide="labelAutoComplete"]').labelAutoComplete();this.find('[data-provide="tagIt"]').tagIt();this.find('[data-provide="userTagIt"]').userTagIt();this.find('[data-provide="labelTagIt"]').labelTagIt()};i(t).ready(function(){i("body").platoUI()})}(window,document,jQuery));