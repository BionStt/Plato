if(typeof jQuery=="undefined")throw new Error("Plato UI requires jQuery 3.3.1");if(typeof $().modal=="undefined")throw new Error("Plato UI requires BootStrap 4.1.1");if(typeof $.Plato.Context=="undefined")throw new Error("Plato UI requires $.Plato.Context");if(typeof $.Plato.Http=="undefined")throw new Error("Plato UI requires $.Plato.Http");$(function(n,t,i){var r=i.Plato.Context,u=function(){var t="dialog",u=t+"Id",f={id:"dialog",title:"Dialog Title",body:{html:null,url:null},buttons:[{text:"Close",id:this.id,click:function(n){n.dismiss()}}],css:{modal:"modal fade",dialog:"modal-dialog"},onLoad:function(){},onShow:function(){},onHide:function(){}},r={init:function(n,t){if(t){this[t]!==null&&typeof this[t]!="undefined"?this[t].apply(this,[n]):alert(t+" is not a valid method!");return}r.bind(n)},bind:function(n){var t=r.getOrCreate(n);t.modal()},show:function(n){var i=r.getOrCreate(n);if(i.modal("show"),r.load(n),n.data(t).onShow)n.data(t).onShow(n)},hide:function(n){var i=r.getOrCreate(n);if(i.modal("hide"),n.data(t).onShow)n.data(t).onShow(n)},load:function(i){var r=i.data(t).body.url;r!=null&&r!==""&&n.$.Plato.Http({method:"GET",url:r}).done(function(n){var r=i.find(".modal-content");if(r.length>0&&(r.empty(),n!==""&&r.html(n)),i.data(t).onLoad)i.data(t).onLoad(i,n.result)})},getOrCreate:function(n){var f=n.data(t).id,r=i("#"+f),u,e;return r.length===0?(r=i("<div>",{id:f,role:"dialog","class":n.data(t).css.modal,tabIndex:"1"}),u=i("<div>",{"class":n.data(t).css.dialog}),e=i("<div>",{"class":"modal-content"}).append(i('<p class="my-4 text-center"><i class="fal my-4 fa-spinner fa-spin"><\/i><\/p>')),u.append(e),r.append(u),i("body").append(r),i(r)):r}};return{init:function(){for(var o,s,e={},n=null,h=0;h<arguments.length;++h){o=arguments[h];switch(o.constructor){case Object:i.extend(e,o);break;case String:n=o}}if(this.length>0)return this.each(function(){if(i(this).data(u))i(this).data(t,i.extend({},i(this).data(t),e));else{var o=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(u,o);i(this).data(t,i.extend({},f,e))}r.init(i(this),n)});s=i("body");n&&(r[n]?(s.data(t,i.extend({},f,e)),r[n].apply(this,[s])):alert(n+" is not a valid method!"));r.init(s)}}}(),f=function(){var n="dialogSpy",r=n+"Id",u={},t={init:function(n,i){if(i){this[i]!==null&&typeof this[i]!="undefined"?this[i].apply(this,[n]):alert(i+" is not a valid method!");return}t.bind(n)},bind:function(n){n.bind("click",function(n){n.preventDefault();n.stopPropagation();i().dialog({id:"shareDialog",body:{url:i(this).attr("href")},css:{modal:t.getModalCss(i(this)),dialog:t.getDialogCss(i(this))}},"show")})},getModalCss:function(n){var t=n.data("dialogModalCss");return t?t:"modal fade"},getDialogCss:function(n){var t=n.data("dialogCss");return t?t:"modal-dialog modal-lg"}};return{init:function(){for(var o,h,e={},f=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:f=o}}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),e));else{var o=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,o);i(this).data(n,i.extend({},u,e))}t.init(i(this),f)});h=i("body");f&&(t[f]?(h.data(n,i.extend({},u,e)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),e=function(){var n="scrollTo",r=n+"Id",u={offset:0,interval:250,event:"click",position:"top",onBeforeComplete:null,onComplete:null},t={init:function(n,i){if(i){this[i]!==null&&typeof this[i]!="undefined"?this[i].apply(this,[n]):alert(i+" is not a valid method!");return}t.bind(n)},bind:function(i){var r=i.data(n).event;if(r)i.on(r,function(n){n.preventDefault();t.go(i)})},go:function(t){var r,u;jQuery.extend(jQuery.easing,{def:"easeOutQuad",easeInOutExpo:function(n,t,i,r,u){return t===0?i:t===u?i+r:(t/=u/2)<1?r/2*Math.pow(2,10*(t-1))+i:r/2*(-Math.pow(2,-10*--t)+2)+i}});r=null;u=t.attr("href");r=u?i(u):t;var f=t.data(n).interval,e=t.data(n).position,o=t.data(n).offset,s=e==="top"?r.offset().top:r.offset().bottom;if(i("html, body").stop().animate({scrollTop:s+o},f,"easeInOutExpo",function(){if(t.data(n).onComplete)t.data(n).onComplete(t,r)}),t.data(n).onBeforeComplete)t.data(n).onBeforeComplete(t,r)}};return{init:function(){for(var o,h,e={},f=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:f=o}}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),e));else{var o=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,o);i(this).data(n,i.extend({},u,e))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},u,e)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),o=function(){var t="treeView",u=t+"Id",f={selectedNodeId:null,event:"click",toggleSelector:'[data-toggle="tree"]',linkSelector:".list-group-item",enableCheckBoxes:!0,onClick:null,onToggle:function(n,t,i){return i.preventDefault(),i.stopPropagation(),!0},onExpand:null,onCollapse:null},r={init:function(n,t){if(t){this[t]!==null&&typeof this[t]!="undefined"?this[t].apply(this,[n]):alert(t+" is not a valid method!");return}r.bind(n)},bind:function(n){var f=n.data(t).linkSelector,e=n.data(t).toggleSelector,u=n.data(t).event;i(e).unbind(u).bind(u,function(u){var f=!0;n.data(t).onToggle&&(f=n.data(t).onToggle(n,i(this),u));f&&r._toggleNode(n,i(this).attr("data-node-id"),u)});n.on("change",'input[type="checkbox"], input[type="radio"]',function(){n.find(".list-group-item").each(function(){i(this).removeClass("active").removeClass("checked")});n.find("input:checked").each(function(){var r=i(this).attr("id"),n=i('[for="'+r+'"]'),t;n.length>0&&(t=n.closest(".list-group-item"),t.addClass("active").addClass("checked"))})});n.on("change",'input[type="checkbox"]',function(){var u=i(this).attr("data-node-id"),f=r.getNodeListItem(n,u),e=f.find("ul"),t=e.find('[type="checkbox"]');t.length>0&&(i(this).is(":checked")?t.prop("checked",!0):t.prop("checked",!1))});n.find(f).unbind(u).bind(u,function(r){if(n.data(t).onClick)n.data(t).onClick(n,i(this),r)});n.find(".list-group-item").unbind("mouseover").bind("mouseover",function(n){n.stopPropagation();i(this).parents(".list-group-item").each(function(){i(this).hasClass("checked")||i(this).removeClass("active")});i(this).addClass("active")});n.find(".list-group-item").unbind("mouseleave").bind("mouseleave",function(){i(this).hasClass("checked")||i(this).removeClass("active")})},expand:function(n){var i=n.data(t).selectedNodeId;i&&(n.hasClass("show")||r._expand(n,i))},collapse:function(n){var i=n.data(t).selectedNodeId;i&&n.hasClass("show")&&r._collapse(n,i)},expandAll:function(t){t.find(".list-group-item").each(function(){r._expand(t,i(this).attr("id"),!1,n.event)})},expandSelected:function(n){n.find(".active").each(function(){r._expandParents(n,i(this).attr("id"))})},collapseAll:function(n){n.find(".list-group-item").each(function(){r._collapse(n,i(this).attr("id"))})},_toggleNode:function(n,t,i){var u=r.getNodeListItem(n,t);u.hasClass("show")?r._collapse(n,t,!0,i):r._expand(n,t,!0,i)},_expand:function(n,i,u,f){var o=r.getNodeListItem(n,i),e=o.find("ul").first();if(o.addClass("show"),u?e.slideDown("fast"):e.show(),n.data(t).onExpand)n.data(t).onExpand(n,e,f)},_expandParents:function(n,t){var u=r.getNodeListItem(n,t);u.parents(".list-group-item").each(function(){r._expand(n,i(this).attr("id"),!1)})},_collapse:function(n,i,u,f){var o=r.getNodeListItem(n,i),e=o.find("ul").first();if(o.removeClass("show"),u?e.slideUp("fast"):e.hide(),n.data(t).onCollapse)n.data(t).onCollapse(n,e,f)},getNodeListItem:function(n,t){return n.find("#"+t)},getNodeToggler:function(n,t){var i=n.find('[data-node-id="'+t+'"]');if(i.length>0)return i[0].tagName==="I"?i:i.find("i")}};return{init:function(){for(var o,h,e={},n=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:n=o}}if(this.length>0)return this.each(function(){if(i(this).data(u))i(this).data(t,i.extend({},i(this).data(t),e));else{var o=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(u,o);i(this).data(t,i.extend({},f,e))}r.init(i(this),n)});n&&(r[n]?(h=i("body"),h.data(t,i.extend({},f,e)),r[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}(),s=function(){var t="pagedList",f=t+"Id",e={page:1,pageSize:10,config:{},target:null,enablePaging:!0,onLoad:function(n,i){var r,u;if(i){for(n.empty(),r=0;r<i.data.length;r++)n.append(this.buildItem(n,i.data[r]));u=n.data(t).enablePaging;u&&i.total>i.size&&n.append(this.buildPager(n,i))}else n.empty().append(this.buildNoResults(n));if(n.pagedList("setItemIndex"),n.data(t).onLoaded)n.data(t).onLoaded(n,i)},onLoaded:null,onItemClick:null,onPagerClick:function(n,t,i){i.preventDefault();i.stopPropagation();n.pagedList({page:t})},buildItem:function(n,r){var u=n.data(t).itemTemplate,e=n.data("pagedListItemCss")||n.data(t).itemCss,f;return u=u.replace(/\{itemCss}/g,e),n.data(t)&&n.data(t).parseItemTemplate&&(u=n.data(t).parseItemTemplate(u,r)),f=i(u),f.click(function(i){if(n.data(t).onItemClick)n.data(t).onItemClick(n,r,i,f)}),f},buildPager:function(n,t){var r=i('<div class="d-block">');return t.page>1?r.append(this.buildPrev(n,t.page)):r.append(i('<div class="float-left col-3">')),r.append(this.buildInfo(n,t)),t.page<t.totalPages?r.append(this.buildNext(n,t.page)):r.append(i('<div class="float-left col-3">')),r},buildPrev:function(n,r){var f=i("<i>").addClass("fa fa-chevron-left"),u=i("<a>").attr("href","#").addClass("list-group-item list-group-item-action float-left prev-page col-3 text-center").append(f);return u.click(function(i){if(n.data(t).onPagerClick)n.data(t).onPagerClick(n,r-1,i)}),u},buildNext:function(n,r){var f=i("<i>").addClass("fa fa-chevron-right"),u=i("<a>").attr("href","#").addClass("list-group-item list-group-item-action float-left next-page col-3 text-center").append(f);return u.click(function(i){if(n.data(t).onPagerClick)n.data(t).onPagerClick(n,r+1,i)}),u},buildNoResults:function(n){var f=n.data(t).noResultsText,o=n.data(t).noResultsIcon,u,s,e;return r.localizer&&(f=r.localizer.get(f)),u=i("<div>").addClass("text-center p-4"),o&&(s=i("<i>").addClass(o),u.append(s)),u.append(f),e=i('<li class="no-results">'),e.append(u),e},buildInfo:function(n,t){var r="{0} of {1}",u,f;return r=r.replace("{0}",t.page),r=r.replace("{1}",t.totalPages),u="{0} results",t.total===1&&(u="{0} result"),u=u.replace("{0}",t.total),f=i("<div>").addClass("list-group-item float-left col-6 text-center"),f.text(r+", "+u),f},itemCss:"dropdown-item",itemTemplate:'<a class="{itemCss}" href="{url}"><span style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;max-width: 85%;">{text}<\/span> <span style="opacity: .7;">@{value}<\/span><span class="float-right">{rank}<\/span><\/a>',parseItemTemplate:function(n,t){return t.text&&(n=n.replace(/\{text}/g,t.text)),t.value&&(n=n.replace(/\{value}/g,t.value)),t.url&&(n=n.replace(/\{url}/g,t.url)),t.rank?t.rank>0?n.replace(/\{rank}/g,'<span class="label label-right label-primary">'+t.rank+"%<\/span>"):n.replace(/\{rank}/g,""):n.replace(/\{rank}/g,"")},loaderTemplate:'<p class="text-center"><i class="fal fa-spinner fa-spin"><\/i><\/p>',noResultsText:"Sorry no results matched your search!",noResultsIcon:null,itemSelection:{enable:!0,index:-1,css:"active"}},u={init:function(n,t){if(t){this[t]!==null&&typeof this[t]!="undefined"?this[t].apply(this,[n]):alert(t+" is not a valid method!");return}this.bind(n)},bind:function(i){var r=i.data(t).loaderTemplate,u;r&&i.empty().append(r);u=this.getConfig(i);n.$.Plato.Http(u).done(function(n){if(n.statusCode===200&&i.data(t).onLoad)i.data(t).onLoad(i,n.result)})},getConfig:function(n){var r=i.extend({},n.data(t).config),u=n.data("pagedListUrl")||r.url,f=this.getPageIndex(n)||1,e=this.getPageSize(n)||10;return r.method&&r.method.toUpperCase()==="POST"&&(r.headers={"Content-Type":"application/json; charset=utf-8"}),typeof r.data!="string"&&(r.data=JSON.stringify(r.data)),u&&(u.indexOf("{page}")>=0&&(u=u.replace(/\{page}/g,f)),u.indexOf("{pageSize}")>=0&&(u=u.replace(/\{pageSize}/g,e)),r.url=u),r},getItemIndex:function(n){var r=-1,f=null,u=n.data(t).itemSelection,e=n.data(t).itemCss;if(u){if(f="a."+e,u.enable===!1)return r;n.find(f).each(function(){if(i(this).hasClass(u.css))return r;r++})}return r},setItemIndex:function(n){var r=n.data(t).itemSelection,s=n.data(t).itemCss;if(r){if(r.enable===!1)return;var e=r.index,u="a."+s,h=r.tag,f=r.css,o=n.find(u+":eq("+e+")");e<0?n.find(u).each(function(){i(this).removeClass(f)}):(n.find(u).each(function(){i(this).removeClass(f)}),o.length>0&&o.addClass(f))}},setPageIndex:function(n,i){n.data(t).page=i},getPageIndex:function(n){return n.data("pagedListPageIndex")||n.data(t).page},setPageSize:function(n,i){n.data(t).pageSize=i},getPageSize:function(n){return n.data("pagedListPageSize")||n.data(t).pageSize}};return{init:function(){for(var r,h,o={},n=null,s=0;s<arguments.length;++s)if(r=arguments[s],r)switch(r.constructor){case Object:i.extend(o,r);break;case String:n=r}if(this.length>0)return this.each(function(){if(i(this).data(f))i(this).data(t,i.extend({},i(this).data(t),o));else{var r=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(f,r);i(this).data(t,i.extend({},e,o))}u.init(i(this),n)});n&&(u[n]?(h=i("body"),h.data(t,i.extend({},e,o)),u[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}(),h=function(){var r="autoComplete",u=r+"Id",f={target:null,onShow:null,onHide:null,onKeyDown:null,valueField:null},n={init:function(t,i){if(i){this[i]!==null&&typeof this[i]!="undefined"?this[i].apply(this,[t]):alert(i+" is not a valid method!");return}var r=t.attr("autocomplete");(typeof r==typeof undefined||r===!1)&&t.attr("autocomplete","off");n.bind(t)},bind:function(u){u.bind("focus",function(){i(this).val().length===0?n.hide(i(this)):n.show(i(this),function(){n.update(u)})});u.bind("keydown.",function(t){var f=n.getTarget(i(this));if(f&&f.is(":visible")){var s=f.data("pagedList").itemCss,h=f.find("."+s).length,o=f.data("pagedList").itemSelection,e=-1;if(o.enable){switch(t.which){case 13:t.preventDefault();t.stopPropagation();f.find("."+s).each(function(){i(this).hasClass(o.css)&&i(this).click()});break;case 38:t.preventDefault();t.stopPropagation();e=o.index-1;e<0&&(e=0);break;case 40:t.preventDefault();t.stopPropagation();e=o.index+1;e>h-1&&(e=h-1)}f.pagedList({itemSelection:i.extend(o,{index:e})},"setItemIndex")}}if(u.data(r).onKeyDown)u.data(r).onKeyDown(u,t)});u.typeSpy({onKeyUp:function(t,i){i.keyCode===27&&n.hide(t)},onChange:function(t,i){i.keyCode!==27&&i.keyCode!==9&&(t.val().length===0?n.hide(t):(n.show(t),n.update(t)))}});i(t).click(function(t){var i=t.target;if(i){if(i.tagName.toUpperCase()==="INPUT")return;if(i.tagName.toUpperCase()==="A")return;if(i.tagName.toUpperCase()==="UL")return;if(i.tagName.toUpperCase()==="I")return}n.hide(u)})},unbind:function(n){n.unbind("focus").unbind("keydown");n.typeSpy("unbind")},show:function(n,t){var i=this.getTarget(n);i.length>0&&(i.hasClass("hidden")&&i.removeClass("hidden"),i.hasClass("show")||(i.addClass("show"),t&&t()))},hide:function(n,t){var i=this.getTarget(n);i.length>0&&(i.hasClass("hidden")||i.addClass("hidden"),i.hasClass("show")&&(i.removeClass("show"),t&&t()))},update:function(t){var e=n.getTarget(t),u,f;e.length!==0&&(u=i.extend({},t.data(r).config),f=t.data(r).valueField,f&&(u.method.toUpperCase()==="GET"&&(u.url=u.url.replace("{"+f+"}",encodeURIComponent(t.val()))),u.method.toUpperCase()==="POST"&&(u.data[f]=t.val())),e.pagedList(i.extend({},t.data(r),{page:1,config:u})))},getTarget:function(n){var s=n.data("autocompleteTarget")||n.data(r).target,e=n.data(u)+"_target",o,t,h,f;if(s){if(o=i(s),o.length>0)return o}else return(t=n.next(),t.hasClass("dropdown-menu"))?(t.attr("id")||t.attr("id",e),t):(h=n.data(r).loaderTemplate,f=i("#"+e),f.length===0&&(f=i("<ul>").attr("id",e).css({width:"100%"}).addClass("i-dropdown-menu i-dropdown-menu-nowrap").html(h),n.after(f)),f);return null}};return{init:function(){for(var e,h,o={},t=null,s=0;s<arguments.length;++s)if(e=arguments[s],e)switch(e.constructor){case Object:i.extend(o,e);break;case String:t=e}if(this.length>0)return this.each(function(){if(i(this).data(u))i(this).data(r,i.extend({},i(this).data(r),o));else{var e=r+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(u,e);i(this).data(r,i.extend({},f,o))}n.init(i(this),t)});t&&(n[t]?(h=i("body"),h.data(r,i.extend({},f,o)),n[t].apply(this,[h])):alert(t+" is not a valid method!"))}}}(),c=function(){var n="userAutoComplete",r=n+"Id",u={valueField:"keywords",config:{method:"GET",url:"api/users/get?page={page}&size={pageSize}&keywords={keywords}",data:{sort:"LastLoginDate",order:"Desc"}},itemTemplate:'<a class="{itemCss}" href="{url}"><span class="avatar avatar-sm mr-2"><span style="background-image: url(/users/photo/{id});"><\/span><\/span>{displayName}<span class="float-right">@{userName}<\/span><\/a>',parseItemTemplate:function(n,t){return n=t.id?n.replace(/\{id}/g,t.id):n.replace(/\{id}/g,"0"),n=t.displayName?n.replace(/\{displayName}/g,t.displayName):n.replace(/\{displayName}/g,"(no username)"),n=t.userName?n.replace(/\{userName}/g,t.userName):n.replace(/\{userName}/g,"(no username)"),n=t.email?n.replace(/\{email}/g,t.email):n.replace(/\{email}/g,""),t.agent_url?n.replace(/\{url}/g,t.url):n.replace(/\{url}/g,"#")},onKeyDown:function(n,t){t.keyCode===13&&t.preventDefault()},onItemClick:function(n,t,i){i.preventDefault()}},t={init:function(t,i,r){if(r)return r(this);if(i)return this[i]!==null&&typeof this[i]!="undefined"?this[i].apply(this,[t]):alert(i+" is not a valid method!"),null;t.autoComplete(t.data(n),i)},show:function(n){n.autoComplete("show")}};return{init:function(){for(var e,h,o={},f=null,s=0;s<arguments.length;++s)if(e=arguments[s],e)switch(e.constructor){case Object:i.extend(o,e);break;case String:f=e}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),o));else{var e=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,e);i(this).data(n,i.extend({},u,o))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},u,o)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),l=function(){var n="labelutoComplete",r=n+"Id",u={valueField:"keywords",config:{method:"GET",url:"api/labels/get?page={page}&size={pageSize}&keywords={keywords}",data:{sort:"TotalEntities",order:"Desc"}},itemCss:"dropdown-item",itemTemplate:'<a class="{itemCss}" href="{url}"><span class="btn btn-sm label font-weight-bold" style="background-color: {backColor}; color: {foreColor}">{name}<\/span><span title="Occurrences" data-toggle="tooltip" class="float-right btn btn-sm btn-secondary">{totalEntities.text}<\/span><\/a>',parseItemTemplate:function(n,t){return n=t.id?n.replace(/\{id}/g,t.id):n.replace(/\{id}/g,"0"),n=t.name?n.replace(/\{name}/g,t.name):n.replace(/\{name}/g,"(no name)"),n=t.foreColor?n.replace(/\{foreColor}/g,t.foreColor):n.replace(/\{foreColor}/g,""),n=t.backColor?n.replace(/\{backColor}/g,t.backColor):n.replace(/\{backColor}/g,""),n=t.totalEntities.text?n.replace(/\{totalEntities.text}/g,t.totalEntities.text):n.replace(/\{totalEntities.text}/g,""),t.alias?n.replace("{alias}",t.alias):n.replace("{alias}","")},onKeyDown:function(n,t){t.keyCode===13&&t.preventDefault()},onItemClick:function(n,t,i){i.preventDefault()}},t={init:function(t,i,r){if(r)return r(this);t.autoComplete(t.data(n),i)}};return{init:function(){for(var e,h,o={},f=null,s=0;s<arguments.length;++s)if(e=arguments[s],e)switch(e.constructor){case Object:i.extend(o,e);break;case String:f=e}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),o));else{var e=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,e);i(this).data(n,i.extend({},u,o))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},u,o)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),a=function(){var t="typeSpy",u=t+"Id",f={event:"keyup",interval:500,onChange:null,onKeyUp:null},r={timer:null,init:function(n){this.bind(n)},bind:function(n){var u=n.data(t).event;u!==null&&n.bind(u,function(u){if(u.which)switch(u.which){case 13:if(u.preventDefault(),r.stopTimer(),n.data(t).onComplete)n.data(t).onComplete(i(this),u);return;case 38:return;case 40:return}if(i(this).val()!=="")r.startTimer(i(this),u);else{if(n.data(t).onChange)n.data(t).onChange(i(this),u);r.stopTimer()}if(n.data(t).onKeyUp)n.data(t).onKeyUp(i(this),u)})},unbind:function(n){n.unbind("keyup")},startTimer:function(n,i){this.stopTimer();this.timer=setTimeout(function(){if(n.data(t).onChange)n.data(t).onChange(n,i)},n.data(t).interval)},stopTimer:function(){n.clearTimeout(this.timer);this.timer=null}};return{init:function(){for(var o,h,e={},n=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:n=o}}if(this.length>0)return this.each(function(){if(i(this).data(u))i(this).data(t,i.extend({},i(this).data(t),e));else{var o=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(u,o);i(this).data(t,i.extend({},f,e))}r.init(i(this),n)});n&&(r[n]?(h=i("body"),h.data(t,i.extend({},f,e)),r[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}(),v=function(){var t="blurSpy",u=t+"Id",f={id:"blurSpy",interval:100,onBlur:null},r={timer:null,init:function(n){this.bind(n)},bind:function(n){var u=n.data(t).id,f="focus",e="blur";u!==""&&(f=f+"."+u,e=e+"."+u);n.on(f,function(){r.stopTimer()});n.on(e,function(n){r.startTimer(i(this),n)})},unbind:function(n){n.unbind("blur");n.unbind("focus")},startTimer:function(n,i){this.stopTimer();this.timer=setTimeout(function(){if(n.data(t).onBlur)n.data(t).onBlur(n,i)},n.data(t).interval)},stopTimer:function(){n.clearTimeout(this.timer);this.timer=null}};return{init:function(){for(var e,h,o={},n=null,s=0;s<arguments.length;++s)if(e=arguments[s],e)switch(e.constructor){case Object:i.extend(o,e);break;case String:n=e}if(this.length>0)return this.each(function(){if(i(this).data(u))i(this).data(t,i.extend({},i(this).data(t),o));else{var e=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(u,e);i(this).data(t,i.extend({},f,o))}r.init(i(this),n)});n&&(r[n]?(h=i("body"),h.data(t,i.extend({},f,o)),r[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}(),y=function(){var r="scrollSpy",f=r+"Id",e={interval:350,onScrollStart:null,onScrollEnd:null,onScroll:null},u={_timer:null,_scrolling:!1,init:function(n,t){if(t){this[t]!==null&&typeof this[t]!="undefined"?this[t].apply(this,[n]):alert(t+" is not a valid method!");return}this.bind(n)},bind:function(n){n.bind("scroll",function(f){if(u.start(n,f),u._scrolling===!1&&(u._scrolling=!0,n.data(r).onScrollStart))n.data(r).onScrollStart(f);var e=function(){var u=n.scrollTop(),o=i(t).height(),e=n.height(),s={scrollTop:Math.ceil(u),scrollBottom:Math.ceil(u+e),documentHeight:o,windowHeight:e,threshold:u/(o-e)};if(n.data(r).onScroll)n.data(r).onScroll(s,f)};e()})},unbind:function(n){n.unbind("scroll")},start:function(t,i){u.stop(t);u._timer=n.setTimeout(function(){if(u._scrolling=!1,t.data(r).onScrollEnd)t.data(r).onScrollEnd(i)},t.data(r).interval)},stop:function(){n.clearTimeout(u._timer);u._timer=null},debounce:function(t,i,r){var u;return function(){var f=this,e=arguments,o=function(){u=null;r||t.apply(f,e)},s=r&&!u;n.clearTimeout(u);u=n.setTimeout(o,i);s&&t.apply(f,e)}}};return{init:function(){for(var s,t,l,o={},h=null,c=0;c<arguments.length;++c){s=arguments[c];switch(s.constructor){case Object:i.extend(o,s);break;case String:h=s}}if(this.length>0)return this.each(function(){if(i(this).data(f))i(this).data(r,i.extend({},i(this).data(r),o));else{var n=r+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(f,n);i(this).data(r,i.extend({},e,o))}u.init(i(this),h)});t=i(n);t.data(f)?t.data(r,i.extend({},t.data(r),o)):(l=r+parseInt(Math.random()*100)+(new Date).getTime(),t.data(f,l),t.data(r,i.extend({},e,o)));u.init(t,h)}}}(),p=function(){var f="infiniteScroll",e=f+"Id",o=n.history.state||{},u={offsetSuffix:"/",pagerKey:"pager.page",loaderSelector:".infinite-scroll-loader",loaderTemplate:'<p class="text-center"><i class="fal fa-2x fa-spinner fa-spin py-5"><\/i><\/p>',onPageLoaded:null,css:{item:"infinite-scroll-item",active:"infinite-scroll-item-active",inactive:"infinite-scroll-item-inactive"}},r={_loading:!1,_initialPage:1,_page:1,_initialOffset:0,_selectedOffset:0,_totalPages:1,_loadedPages:[],_readyList:[],ready:function(n,t){return r._readyList.push(t),this},init:function(n,t,i){var u,f,e,o;if(t){this[t]!==null&&typeof this[t]!="undefined"?this[t].apply(this,[n,i]):alert(t+" is not a valid method!");return}n.data("infiniteScrollInitialPage")&&(u=parseInt(n.data("infiniteScrollInitialPage")),isNaN(u)||(r._initialPage=u,r._page=u));typeof n.data("infiniteScrollInitialOffset")!="undefined"&&(f=parseInt(n.data("infiniteScrollInitialOffset")),isNaN(f)||(r._initialOffset=f));typeof n.data("infiniteScrollSelectedOffset")!="undefined"&&(e=parseInt(n.data("infiniteScrollSelectedOffset")),isNaN(e)||(r._selectedOffset=e));n.data("infiniteScrollTotalPages")&&(o=parseInt(n.data("infiniteScrollTotalPages")),isNaN(o)||(r._totalPages=o));r._loadedPages.push({page:r._initialPage,offset:r._initialOffset});this.bind(n)},bind:function(n){var f=function(){i().scrollSpy({onScrollEnd:function(){r.updateState(n)},onScroll:function(t,u){if(r._loading){i().scrollSpy("stop");u.preventDefault();u.stopPropagation();return}var f=n.offset().top,e=f+n.outerHeight();t.scrollTop===0?r.resetState(n):t.scrollTop<f&&r.loadPrevious(n,t);t.scrollBottom===t.docHeight?r.resetState(n):t.scrollBottom>e&&r.loadNext(n,t)}})},e,t;r._selectedOffset>0?(e=r.getOffsetMarker(n,r._selectedOffset),t=r.getHighlightMarker(n,r._selectedOffset),e&&t?e.scrollTo({onComplete:function(){t.hasClass(u.css.active)?t.removeClass(u.css.active).addClass(u.css.inactive):n.find("."+u.css.active).removeClass(u.css.active).addClass(u.css.inactive);f()}},"go"):f()):f()},unbind:function(){i().scrollSpy("unbind");r._readyList=[];r._initialPage=1;r._page=1;r._loading=!1},loadPrevious:function(n,u){var e=r.getPreviousPageNumber(n),f;e<=0||(f=r.getLoader(n,"previous"),f&&f.show(),r.load(n,e,u,function(u){var e,o;f&&f.hide();u!==""&&(f.after(u),e=r.getLoadedPage(r._page),e&&(o=e.spy.documentHeight-e.spy.scrollTop,i().scrollSpy("unbind"),i("body").scrollTo({offset:i(t).height()-o,interval:0,onComplete:function(){i().scrollSpy("bind")}},"go")),r.highlightFirstMarkerOnPage(n,r._page+1))}))},loadNext:function(n,t){var u=r.getNextPageNumber(n),i;u>r._totalPages||(i=r.getLoader(n,"next"),i&&i.show(),r.load(n,u,t,function(t){i&&i.hide();t!==""&&(i.before(t),r.highlightFirstMarkerOnPage(n,r._page))}))},load:function(t,e,o,s){var h=r.getUrl(t),c=r.isPageLoaded(t,e);if(h!==""&&!c){if(r._loading=!0,t.data(f).onLoad)t.data(f).onLoad(t);h+=h.indexOf("?")>=0?"&":"?";h+=u.pagerKey+"="+e;n.$.Plato.Http({url:h,method:"GET"}).done(function(n){var h,u;if(r._loading=!1,n!==""){var c=0,l=null,a=r.getOffsetMarkers(i(n));if(a)for(h=0;h<a.length-1;h++){l=a[h];break}l&&(c=parseInt(l.getAttribute("data-infinite-scroll-offset")));r._loadedPages.push({spy:o,page:e,offset:isNaN(c)?0:c});r._page=e}if(s(n),t.data(f).onLoaded)t.data(f).onLoaded(t);for(u=0;u<r._readyList.length;u++)typeof r._readyList[u]=="function"&&r._readyList[u](t)})}},isElementInviewPort:function(n){var t=n.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||i(window).height())&&t.right<=(window.innerWidth||i(window).width())},updateState:function(n){var s=r.getUrl(n),h=r.getUrlSuffix(n),u=null,e=r.getOffsetMarkers(n),f;e&&e.each(function(){if(r.isElementInviewPort(this))return u=i(this),!1});u&&(f=parseInt(u.data("infiniteScrollOffset")),isNaN(f)||history.replaceState(o,t.title,s+h+f))},resetState:function(n){i().scrollSpy("stop");o&&history.replaceState(o,t.title,r.getUrl(n))},scrollToPage:function(n,t){var f=r.getLoadedPage(t),u;f&&(u=r.getOffsetMarker(n,f.offset),u&&(i().scrollSpy("unbind"),u.scrollTo({offset:-75,interval:0,onComplete:function(){i().scrollSpy("bind")}},"go")))},highlightFirstMarkerOnPage:function(t,i){var e=r.getLoadedPage(i),f;e&&(f=r.getHighlightMarker(t,e.offset),f&&(f.hasClass(u.css.inactive)&&f.removeClass(u.css.inactive),f.hasClass(u.css.active)||f.addClass(u.css.active),n.setTimeout(function(){f.hasClass(u.css.active)&&f.removeClass(u.css.active).addClass(u.css.inactive)},250)))},getSortedPageNumbers:function(){for(var t=[],n=0;n<r._loadedPages.length;n++)t.push(r._loadedPages[n].page);return t.sort(function(n,t){return n-t})},getLoadedPage:function(n){for(var t=0;t<r._loadedPages.length;t++)if(r._loadedPages[t].page===n)return r._loadedPages[t];return null},isPageLoaded:function(n,t){var i=r.getLoadedPage(t);return i!==null?!0:!1},getOffsetMarkers:function(n){var t=n.find("[data-infinite-scroll-offset]");return t.length>0?t:null},getOffsetMarker:function(n,t){var r=n.find('[data-infinite-scroll-offset="'+t+'"]');return r.length>0?i(r[0]):null},getHighlightMarker:function(n,t){var i=n.find('[data-infinite-scroll-highlight="'+t+'"]');return i.length>0?i:null},getFirstOffsetMarker:function(n){var t=r.getOffsetMarkers(n);return t?i(t[0]):null},getLastOffsetMarker:function(n){var t=r.getOffsetMarkers(n);return t?i(t[t.length-1]):null},getPreviousPageNumber:function(n){var t=r.getSortedPageNumbers(n);return t?t[0]-1:r._page-1},getNextPageNumber:function(n){var t=r.getSortedPageNumbers(n);return t?t[t.length-1]+1:r._page+1},getLoader:function(n,t){var u=null,e=r.getLoaders(n);return e&&(e.each(function(){if(i(this).data("type")===t)return u=i(this),!1}),u&&u.empty().append(i(n.data(f).loaderTemplate))),u},getLoaders:function(n){var i=n.data("infiniteScrollLoadingSelector")||n.data(f).loaderSelector,t;return i&&(t=n.find(i),t.length>0)?t:null},getUrl:function(n){return n.data("infiniteScrollUrl")?n.data("infiniteScrollUrl"):""},getUrlSuffix:function(n){return n.data("infiniteScrollUrlSuffix")?n.data("infiniteScrollUrlSuffix"):"/"}};return{init:function(){for(var s,t,a,o={},h=null,c=null,l=0;l<arguments.length;++l){s=arguments[l];switch(s.constructor){case Object:i.extend(o,s);break;case String:h=s;break;case Function:c=s}}if(this.length>0)return this.each(function(){if(i(this).data(e))i(this).data(f,i.extend({},i(this).data(f),o));else{var n=f+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(e,n);i(this).data(f,i.extend({},u,o))}r.init(i(this),h,c)});t=i(n);t.data(e)?t.data(f,i.extend({},t.data(f),o)):(a=f+parseInt(Math.random()*100)+(new Date).getTime(),t.data(e,a),t.data(f,i.extend({},u,o)));r.init(t,h,c)}}}(),w=function(){var n="filterList",r=n+"Id",u={target:null,empty:null},t={timer:null,init:function(n){this.bind(n)},bind:function(n){n.bind("keydown",function(n){n.keyCode&&n.keyCode===13&&n.preventDefault()});n.bind("keyup",function(){t.filter(i(this))})},unbind:function(n){n.unbind("keydown");n.unbind("keyup")},filter:function(n){var s=this.getTarget(n),u=this.getListItems(n),f=this.getEmpty(n),h=n.val().trim().toLowerCase(),e=u.length,o=0,r,t;for(s.treeView("expandAll"),r=0;r<e;r++)t=i(u[r]),t.length>0&&(t.removeClass("hidden"),this.find(t,h)||(t.addClass("hidden"),o++));o===e?f.show():f.hide()},find:function(n,t){var u=n.data("filterListValue"),e,f,r;if(u&&u.toLowerCase().indexOf(t)>=0)return!0;for(e=n.find(".list-group-item"),f=0;f<e.length;f++)if(r=i(e[f]),r.length>0){if(u=r.data("filterListValue"),u.toLowerCase().indexOf(t)>=0)return!0;r.find(".list-group-item").length>0&&this.find(r,t)}return!1},getTarget:function(t){var r=t.data("filterListTarget")||t.data(n).target;return typeof r=="string"?i(r):r},getListItems:function(n){var t=this.getTarget(n);return t.find(".list-group-item")},getEmpty:function(t){var r=t.data("filterListEmpty")||t.data(n).empty;return typeof r=="string"?i(r):r}};return{init:function(){for(var e,h,o={},f=null,s=0;s<arguments.length;++s)if(e=arguments[s],e)switch(e.constructor){case Object:i.extend(o,e);break;case String:f=e}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),o));else{var e=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,e);i(this).data(n,i.extend({},u,o))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},u,o)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),b=function(){var n="tagIt",r=n+"Id",u={items:[],ensureUnique:!0,maxItems:0,store:null,itemTemplate:'<li class="tagit-list-item">{text} <a href="#" class="tagit-list-item-delete"><i class="fal fa-times"><\/i><\/a><\/li>',parseItemTemplate:function(n,t){return t.text&&(n=n.replace(/\{text}/g,t.text)),t.value&&(n=n.replace(/\{value}/g,t.value)),n},onAddItem:function(t,i){var r=t.data(n).items;r.push({text:i.text,value:i.value})}},t={init:function(n,t,r){if(r)return r(this);if(t)return this[t]!==null&&typeof this[t]!="undefined"?this[t].apply(this,[n]):alert(t+" is not a valid method!"),null;this.bind(n);var u=this.getStore(n);return u&&u.val()!==""&&(this.setItems(n,i.parseJSON(u.val())),this.update(n)),null},bind:function(n){var t=this.getInput(n);t&&(n.bind("click",function(){t.focus()}),t.bind("focus",function(){n.addClass("form-control-active")}),t.bind("blur",function(){n.removeClass("form-control-active")}))},unbind:function(n){var t=this.getInput(n);t&&(t.unbind("keyup"),t.unbind("focus"),t.unbind("blur"),t.autoComplete("unbind"))},show:function(n){var t=this.getInput(n);t&&t.autoComplete("show")},hide:function(n){var t=this.getInput(n);t&&t.autoComplete("hide")},update:function(t){var i,r,e,u,f;if(t.data(n).onBeforeUpdate&&t.data(n).onBeforeUpdate(),this.removeItems(t),i=this.getItems(t),i){for(r=i.length-1;r>=0;r--)e=this.buildItem(t,i[r],r),t.find("li:eq(0)").before(e);u=this.getInput(t);f=this.getMaxItems(t);f>0&&i.length>=f?u&&u.hide():u&&u.show()}this.fixUI(t);this.serialize(t)},fixUI:function(n){var u=n.find(".tagit-list-item"),t=this.getInput(n),i=this.getInputLi(n),r;u.length>0?(t&&(r=t.attr("placeholder"),t.data("tagitPlaceHolder",r),t.attr("placeholder","")),i&&i.css({"min-width":"30%",width:"auto"})):(t&&t.data("tagitPlaceHolder")&&t.attr("placeholder",t.data("tagitPlaceHolder")),i&&i.css({"min-width":"initial",width:"100%"}))},reset:function(n){this.setInput(n,"")},clear:function(n){this.setStore(n,"");this.setItems(n,[]);this.update(n)},focus:function(n){var t=this.getInput(n),r=this.getItems(n),i=this.getMaxItems(n);i>0&&r.length<i?t&&t.is(":visible")&&t.focus():t&&t.is(":visible")&&t.focus()},select:function(n){var t=this.getInput(n);t.length>0&&t.select()},buildItem:function(r,u,f){var s=this.getItemTemplate(r),e,o;return r.data(n)&&r.data(n).parseItemTemplate&&(s=r.data(n).parseItemTemplate(s,u)),e=i(s),e.data("tagitItem",u),o=e.find(".tagit-list-item-delete"),o.length>0&&(o.data("tagitItemIndex",f),o.click(function(n){n.preventDefault();var u=t.getItems(r);u.splice(i(this).data("tagitItemIndex"),1);t.update(r);t.focus(r)})),e},removeItems:function(n){n.find(".tagit-list-item").remove()},itemExists:function(n,t){var r=this.getItems(n),i;if(r)for(i=0;i<r.length;i++)if(r[i]===t)return!0;return!1},isUnique:function(t,i){var e=t.data(n).ensureUnique,r;if(e===!1)return!0;var s=this.getInput(t),o={value:i.value},f=this.getItems(t),u=-1;for(r=0;r<f.length;r++)o.value===f[r].value&&(u=r);return u===-1?!0:(t.data(n).highlightIndex=u,this.highlight(t),!1)},highlight:function(t){var r=t.data(n).highlightIndex,i=t.find("li:eq("+r+")");i.length>0&&(i.addClass("bg-warning"),window.setTimeout(function(){i.removeClass("bg-warning")},1e3))},getInputLi:function(n){var t=n.find(".tagit-list-item-input");return t.length>0?t:null},getMaxItems:function(t){return t.data("tagitMaxItems")||t.data(n).maxItems},getInput:function(n){var i=this.getInputLi(n),t;return i&&(t=i.find("input"),t.length>0)?t:null},getItemTemplate:function(t){return t.data("tagitItemTemplate")||t.data(n).itemTemplate},setInput:function(n,t){var i=n.find("input");i&&i.val(t)},getItems:function(t){return t.data("tagitItems")||t.data(n).items},setItems:function(t,i){t.data("tagitItems",i);t.data(n).items=i},getStore:function(t){var u=t.data("tagitStore")||t.data(n).store,r;return u&&(r=i(u),r.length>0)?r:null},setStore:function(n,t){var i=this.getStore(n);i!=null&&i.val(t)},serialize:function(n){var t=this.getStore(n),i;t&&(i=this.getItems(n),i!=null&&(i.length>0?t.val(JSON.stringify(i)):t.val(""),t.trigger("change")))}};return{init:function(){for(var o,h,e={},f=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:f=o}}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),e));else{var o=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,o);i(this).data(n,i.extend({},u,e))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},u,e)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),k=function(n){var t="userTagIt",f=t+"Id",u={},r={init:function(n,t,i){if(i)return i(this);if(t)return this[t]!==null&&typeof this[t]!="undefined"?this[t].apply(this,[n]):alert(t+" is not a valid method!"),null;this.bind(n)},bind:function(t){t.tagIt(i.extend({itemTemplate:'<li class="tagit-list-item"><span class="avatar avatar-sm mr-2"><span style="background-image: url(/users/photo/{id});"><\/span><\/span>{displayName} <a href="#" class="tagit-list-item-delete"><i class="fal fa-times"><\/i><\/a><\/li>',parseItemTemplate:function(n,t){return n=t.id?n.replace(/\{id}/g,t.id):n.replace(/\{id}/g,"0"),t.displayName?n.replace(/\{displayName}/g,t.displayName):n.replace(/\{displayName}/g,"(no username)")},onAddItem:function(n){n.val("")}},u,n));r.getInput(t).userAutoComplete(i.extend({onItemClick:function(n,i,u){var f,e;u.preventDefault();f=r.getIndex(t,i);f===-1?(e=t.data("tagIt"),e.items.push(i),t.tagIt("update"),t.tagIt("focus"),t.tagIt("select"),t.tagIt("show")):t.tagIt({highlightIndex:f},"highlight")}},u,n))},getInput:function(n){return n.find(".tagit-list-item-input").find("input")},getIndex:function(n,t){var f=n.data("tagIt").ensureUnique,e=n.data("tagIt"),u=e.items,r=-1,i;if(f===!1)return r;for(i=0;i<u.length;i++)t.id===u[i].id&&(r=i);return r}};return{init:function(){for(var o,h,e={},n=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:n=o}}if(this.length>0)return this.each(function(){if(i(this).data(f))i(this).data(t,i.extend({},i(this).data(t),e));else{var o=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(f,o);i(this).data(t,i.extend({},u,e))}r.init(i(this),n)});n&&(r[n]?(h=i("body"),h.data(t,i.extend({},u,e)),r[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}(),d=function(n){var t="labelTagIt",f=t+"Id",u={},r={init:function(n,t,i){return i?i(this):t?(this[t]!==null&&typeof this[t]!="undefined"?this[t].apply(this,[n]):alert(t+" is not a valid method!"),null):(this.bind(n),null)},bind:function(t){t.tagIt(i.extend({itemTemplate:'<li class="tagit-list-item"><span class="btn btn-sm label font-weight-bold" style="background-color: {backColor}; color: {foreColor};">{name} <a href="#" class="tagit-list-item-delete" data-toggle="tooltip" title="Delete" style="color: {foreColor};"><i class="fal fa-times"><\/i><\/a><\/span><\/li>',parseItemTemplate:function(n,t){return n=t.id?n.replace(/\{id}/g,t.id):n.replace(/\{id}/g,"0"),n=t.name?n.replace(/\{name}/g,t.name):n.replace(/\{name}/g,"(no name)"),n=t.foreColor?n.replace(/\{foreColor}/g,t.foreColor):n.replace(/\{foreColor}/g,""),t.backColor?n.replace(/\{backColor}/g,t.backColor):n.replace(/\{backColor}/g,"")},onAddItem:function(n){n.val("")}},u,n));r.getInput(t).labelAutoComplete(i.extend({onItemClick:function(n,i,u){var f,e;u.preventDefault();f=r.getIndex(t,i);f===-1?(e=t.data("tagIt"),e.items.push(i),t.tagIt("update")):t.tagIt({highlightIndex:f},"highlight");t.tagIt("focus");t.tagIt("select")}},u,n))},getInput:function(n){return n.find(".tagit-list-item-input").find("input")},getIndex:function(n,t){var f=n.data("tagIt").ensureUnique,e=n.data("tagIt"),u=e.items,r=-1,i;if(f===!1)return r;for(i=0;i<u.length;i++)t.id===u[i].id&&(r=i);return r}};return{init:function(){for(var o,h,e={},n=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:n=o}}if(this.length>0)return this.each(function(){if(i(this).data(f))i(this).data(t,i.extend({},i(this).data(t),e));else{var o=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(f,o);i(this).data(t,i.extend({},u,e))}r.init(i(this),n)});n&&(r[n]?(h=i("body"),h.data(t,i.extend({},u,e)),r[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}(),g=function(){var n="selectDropdown",r=n+"Id",u={event:"click",items:[],highlightIndex:0,ensureUnique:!0,maxItems:0,store:null,itemTemplate:'<li class="list-group-item select-dropdown-item">{text} <a href="#" class="tagit-list-item-delete"><i class="fal fa-times"><\/i><\/a><\/li>',itemTemplateEmpty:'<li class="list-group-item">No Results<\/li>',parseItemTemplate:function(n,t){return t.text&&(n=n.replace(/\{text}/g,t.text)),t.value&&(n=n.replace(/\{value}/g,t.value)),n},onShow:null,onChange:null,onUpdated:null},t={init:function(n,r){if(r){this[r]!==null&&typeof this[r]!="undefined"?this[r].apply(this,[n]):alert(r+" is not a valid method!");return}t.bind(n);var u=this.getStore(n);u&&u.val()!==""&&(this.setItems(n,i.parseJSON(u.val())),this.update(n))},bind:function(t){var r=t.find(".dropdown-menu");t.on("shown.bs.dropdown",function(){if(t.data(n).onShow)t.data(n).onShow(t,r)});r.on("change",'input[type="radio"], input[type="checkbox"]',function(r){if(t.data(n).onChange)t.data(n).onChange(t,i(this),r)})},unbind:function(n){n.unbind("shown.bs.dropdown");n.find(".dropdown-menu").unbind("change")},update:function(t){var f=this.getPreview(t),u=this.getItems(t),r;if(f.empty(),u&&u.length>0)for(r=0;r<u.length;r++)f.append(this.buildItem(t,u[r],r));else f.append(i(t.data(n).itemTemplateEmpty));if(this.serialize(t),t.data(n).onUpdated)t.data(n).onUpdated(t)},buildItem:function(r,u,f){var s=this.getItemTemplate(r),e,o;return r.data(n)&&r.data(n).parseItemTemplate&&(s=r.data(n).parseItemTemplate(s,u)),e=i(s),e.data("tagitItem",u),o=e.find(".select-dropdown-delete"),o.length>0&&(o.data("selectDropdownItemIndex",f),o.click(function(n){n.preventDefault();var u=t.getItems(r);u.splice(i(this).data("selectDropdownItemIndex"),1);t.update(r)})),e},getItemTemplate:function(t){return t.data("selectDropdownItemTemplate")||t.data(n).itemTemplate},highlight:function(t){var r=this.getPreview(t),u=t.data(n).highlightIndex,i=r.find("li:eq("+u+")");i.length>0&&(i.addClass("bg-warning"),window.setTimeout(function(){i.removeClass("bg-warning")},1e3))},clear:function(n){this.setStore(n,"");this.setItems(n,[]);this.update(n)},getItems:function(t){return t.data(n).items},setItems:function(t,i){t.data(n).items=i},getStore:function(t){var u=t.data("selectDropdownStore")||t.data(n).store,r;return u&&(r=i(u),r.length>0)?r:null},setStore:function(n,t){var i=this.getStore(n);i!=null&&i.val(t)},serialize:function(n){var t=this.getStore(n),i;t&&(i=this.getItems(n),i!=null&&(i.length>0?t.val(JSON.stringify(i)):t.val(""),t.trigger("change")))},getPreview:function(n){var t=n.find(".select-dropdown-preview");if(t.length===0&&(t=n.next(),!t.hasClass("select-dropdown-preview")))throw new Error("A preview area coulod not be found for the select dropdown.");return t}};return{init:function(){for(var e,h,o={},f=null,s=0;s<arguments.length;++s)if(e=arguments[s],e)switch(e.constructor){case Object:i.extend(o,e);break;case String:f=e}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),o));else{var e=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,e);i(this).data(n,i.extend({},u,o))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},u,o)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),nt=function(n){var t="labelSelectDropdown",f=t+"Id",u={},r={init:function(n,t,i){return i?i(this):t?(this[t]!==null&&typeof this[t]!="undefined"?this[t].apply(this,[n]):alert(t+" is not a valid method!"),null):(this.bind(n),null)},bind:function(t){t.selectDropdown(i.extend({itemTemplate:'<li class="list-group-item select-dropdown-item"><span class="btn btn-sm label font-weight-bold" style="background-color: {backColor}; color: {foreColor};">{name}<\/span><a href="#" class="btn btn-secondary float-right select-dropdown-delete" data-toggle="tooltip" title="Delete"><i class="fal fa-times"><\/i><\/a><\/li>',parseItemTemplate:function(n,t){return n=t.id?n.replace(/\{id}/g,t.id):n.replace(/\{id}/g,"0"),n=t.name?n.replace(/\{name}/g,t.name):n.replace(/\{name}/g,"(no name)"),n=t.foreColor?n.replace(/\{foreColor}/g,t.foreColor):n.replace(/\{foreColor}/g,""),t.backColor?n.replace(/\{backColor}/g,t.backColor):n.replace(/\{backColor}/g,"")},onShow:function(n,t){var i=t.find('[type="search"]');i.length>0&&i.focus().labelAutoComplete("show").labelAutoComplete("update")},onUpdated:function(n){var u=n.find(".dropdown-menu"),t=n.data("selectDropdown").items,r;if(u.find("label").each(function(){var n=i("#"+i(this).attr("for"));n.length>0&&(n.prop("checked",!1),i(this).removeClass("active"))}),t&&t.length>0)for(r=0;r<t.length;r++){var f="label-"+t[r].id,e=u.find("#"+f),o=u.find('[for="'+f+'"]');e.length>0&&e.prop("checked",!0);o.length>0&&o.addClass("active")}}},u,n));r.getInput(t).labelAutoComplete(i.extend({itemTemplate:'<input type="checkbox" value="{id}" id="label-{id}"/><label for="label-{id}" class="{itemCss}"><i class="fal mr-2 check-icon"><\/i><span class="btn btn-sm label font-weight-bold" style="background-color: {backColor}; color: {foreColor}">{name}<\/span><span title="Occurrences" data-toggle="tooltip" class="float-right btn btn-sm btn-secondary">{totalEntities.text}<\/span><\/label>',onItemClick:function(n,i,u){u.preventDefault();u.stopPropagation();var f=r.getIndex(t,i);f===-1?t.data("selectDropdown").items.push(i):t.data("selectDropdown").items.splice(f,1);t.selectDropdown("update")},onLoaded:function(){t.selectDropdown("update")}},u,n))},getInput:function(n){return n.find('[type="search"]')},getIndex:function(n,t){var f=n.data("selectDropdown").ensureUnique,e=n.data("selectDropdown"),u=e.items,r=-1,i;if(f===!1)return r;for(i=0;i<u.length;i++)t.id===u[i].id&&(r=i);return r}};return{init:function(){for(var e,h,o={},n=null,s=0;s<arguments.length;++s)if(e=arguments[s],e)switch(e.constructor){case Object:i.extend(o,e);break;case String:n=e}if(this.length>0)return this.each(function(){if(i(this).data(f))i(this).data(t,i.extend({},i(this).data(t),o));else{var e=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(f,e);i(this).data(t,i.extend({},u,o))}r.init(i(this),n)});n&&(r[n]?(h=i("body"),h.data(t,i.extend({},u,o)),r[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}(),tt=function(n){var t="categorySelectDropdown",f=t+"Id",r={},u={init:function(n,t,i){return i?i(this):t?(this[t]!==null&&typeof this[t]!="undefined"?this[t].apply(this,[n]):alert(t+" is not a valid method!"),null):(this.bind(n),null)},bind:function(t){t.selectDropdown(i.extend({itemTemplate:'<li class="list-group-item"><span class="btn btn-sm label font-weight-bold" style="background-color: {backColor}; color: {foreColor};">{name}<\/span><a href="#" class="btn btn-secondary float-right select-dropdown-delete" data-toggle="tooltip" title="Delete"><i class="fal fa-times"><\/i><\/a><\/li>',parseItemTemplate:function(n,t){var r=i('<div class="list-group-item">');return r.append(t.clone()),r},onAddItem:function(n){n.val("")},onShow:function(n,t){var i=t.find('[data-provide="tree"]'),r=t.find('[type="search"]');r.length>0&&r.focus().filterList({target:i});i.length>0&&i.treeView("expandSelected")},onChange:function(n,r,f){f.preventDefault();f.stopPropagation();n.find("input:checked").each(function(){var e=i(this).attr("id"),r=n.find('[for="'+e+'"]'),f;r.length>0&&(f=u.getIndex(t,r),f===-1?(n.data("selectDropdown").items=[],n.data("selectDropdown").items.push(r),n.selectDropdown("update")):n.selectDropdown({highlightIndex:f},"highlight"))})}},r,n));t.find('[data-provide="tree"]').treeView(i.extend({onClick:function(n,t,r){r.preventDefault();r.stopPropagation();var u=t.find("input").first();u.each(function(){i(this).is(":checked")?i(this).prop("checked",!1):i(this).prop("checked",!0);i(this).trigger("change")})},onToggle:function(n,t,i){return i.preventDefault(),i.stopPropagation(),!0}},r,n),"expandSelected")},getIndex:function(n,t){var f=n.data("selectDropdown").ensureUnique,e=n.data("selectDropdown"),u=e.items,r=-1,i;if(f===!1)return r;for(i=0;i<u.length;i++)t.attr("for")===u[i].attr("for")&&(r=i);return r}};return{init:function(){for(var o,h,e={},n=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:n=o}}if(this.length>0)return this.each(function(){if(i(this).data(f))i(this).data(t,i.extend({},i(this).data(t),e));else{var o=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(f,o);i(this).data(t,i.extend({},r,e))}u.init(i(this),n)});n&&(u[n]?(h=i("body"),h.data(t,i.extend({},r,e)),u[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}(),it=function(){var n="autoTargetBlank",r=n+"Id",u={selector:"a"},t={timer:null,init:function(n){this.bind(n)},bind:function(t){var r=t.data(n).selector;t.find(r).each(function(){i(this).attr("href")&&i(this).attr("target","_blank")})}};return{init:function(){for(var o,h,e={},f=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:f=o}}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),e));else{var o=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,o);i(this).data(n,i.extend({},u,e))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},u,e)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),rt=function(){var n="autoLinkImages",r=n+"Id",u={selector:"img"},t={timer:null,init:function(n){this.bind(n)},bind:function(t){var r=t.data(n).selector;t.find(r).each(function(){if(i(this).attr("src")){var n=i(this).parent().prop("tagName");n&&n!=="A"&&i(this).wrap(i("<a/>",{href:i(this).attr("src"),title:i(this).attr("alt")||"",target:"_blank"}))}})}};return{init:function(){for(var o,h,e={},f=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:f=o}}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),e));else{var o=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,o);i(this).data(n,i.extend({},u,e))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},u,e)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),ut=function(){var n="markdownBody",r=n+"Id",u={selector:"a"},t={timer:null,init:function(n){this.bind(n)},bind:function(n){n.autoTargetBlank().autoLinkImages()}};return{init:function(){for(var o,h,e={},f=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:f=o}}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),e));else{var o=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,o);i(this).data(n,i.extend({},u,e))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},u,e)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),ft=function(){var t="confirm",u=t+"Id",f={event:"click",message:"Are you sure you wish to delete this item?\n\nClick OK to confirm..."},r={timer:null,init:function(n){this.bind(n)},bind:function(i){var r=i.data(t).event,u=i.data("confirmMessage")||i.data(t).message;i.on(r,function(){return n.confirm(u)})},unbind:function(n){var i=n.data(t).event;n.unbind(i)}};return{init:function(){for(var e,h,o={},n=null,s=0;s<arguments.length;++s)if(e=arguments[s],e)switch(e.constructor){case Object:i.extend(o,e);break;case String:n=e}if(this.length>0)return this.each(function(){if(i(this).data(u))i(this).data(t,i.extend({},i(this).data(t),o));else{var e=t+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(u,e);i(this).data(t,i.extend({},f,o))}r.init(i(this),n)});n&&(r[n]?(h=i("body"),h.data(t,i.extend({},f,o)),r[n].apply(this,[h])):alert(n+" is not a valid method!"))}}}();i.fn.extend({dialog:u.init,dialogSpy:f.init,scrollTo:e.init,treeView:o.init,pagedList:s.init,autoComplete:h.init,typeSpy:a.init,blurSpy:v.init,scrollSpy:y.init,infiniteScroll:p.init,filterList:w.init,tagIt:b.init,userAutoComplete:c.init,labelAutoComplete:l.init,userTagIt:k.init,labelTagIt:d.init,selectDropdown:g.init,labelSelectDropdown:nt.init,categorySelectDropdown:tt.init,confirm:ft.init,autoTargetBlank:it.init,autoLinkImages:rt.init,markdownBody:ut.init});i.fn.platoUI=function(){this.find('[data-toggle="dialog"]').dialogSpy();this.find('[data-provide="scroll"]').scrollTo();this.find('[data-provide="paged-list"]').pagedList();this.find('[data-provide="select-dropdown"]').selectDropdown();this.find('[data-provide="label-select-dropdown"]').labelSelectDropdown();this.find('[data-provide="category-select-dropdown"]').categorySelectDropdown();this.find('[data-provide="tree"]').treeView();this.find('[data-provide="filter-list"]').filterList();this.find('[data-provide="autoComplete"]').autoComplete();this.find('[data-provide="userAutoComplete"]').userAutoComplete();this.find('[data-provide="labelAutoComplete"]').labelAutoComplete();this.find('[data-provide="tagIt"]').tagIt();this.find('[data-provide="userTagIt"]').userTagIt();this.find('[data-provide="labelTagIt"]').labelTagIt();this.find('[data-provide="confirm"]').confirm();this.find('[data-provide="autoTargetBlank"]').autoTargetBlank();this.find('[data-provide="autoLinkImages"]').autoLinkImages();this.find('[data-provide="markdownBody"]').markdownBody();this.find('[data-provide="infiniteScroll"]').infiniteScroll()};i(t).ready(function(){i("body").platoUI();i().infiniteScroll(function(n){n.find('[data-toggle="dialog"]').dialogSpy()},"ready")})}(window,document,jQuery));