if(typeof jQuery=="undefined")throw new Error("Plato requires jQuery");$(function(n,t,i){"use strict";n.$.Plato={};n.$.Plato.Options={debug:!0,BSToolTipEnabled:!0,BSToolTipSelector:"[data-toggle='tooltip']",MagnificSelector:"[data-toggle='dialog']",AvatarUploadSelector:"[data-upload='avatar']"};n.$.Plato.Logger={info:"Info",warning:"Warning",error:"Error",logInfo:function(n){this.log(this.info,n)},logWarning:function(n){this.log(this.warning,n)},logError:function(n){this.log(this.error,n)},log:function(n,t){if(i.Plato.Options.debug){var r=(new Date).getTime()*1e4;console.log(n+": "+t+" - "+r)}}};n.$.Plato.Context={options:function(){return typeof PlatoOptions!="undefined"&&i.extend(!0,i.Plato.Options,window.PlatoOptions),i.Plato.Options},logger:i.Plato.Logger};n.$.Plato.UI={context:null,init:function(n){this.context=n;this.initToolTips();this.initDropDowns();this.initAvatar()},logInfo:function(n){this.context.logger.logInfo(n)},logError:function(n){this.context.logger.logError(n)},initToolTips:function(){this.logInfo("initToolTips()");this.context.options.BSToolTipEnabled&&(i(this.context.options.BSToolTipSelector).tooltip(),this.logInfo("Bootstratp tooltipss initialized."))},initDropDowns:function(){this.logInfo("initDropDowns()");i("ul.dropdown-menu [data-toggle='dropdown']").on("click",function(n){n.preventDefault();n.stopPropagation();i("ul.dropdown-menu [data-toggle='dropdown']").parent().removeClass("show");i(this).parent().addClass("show")})},initAvatar:function(){this.logInfo("initAvatar()");i(this.context.options.AvatarUploadSelector).change(function(){function n(n){if(n.files&&n.files[0]){var t=new FileReader;t.onload=function(t){var r=i(n).attr("data-upload-preview-selector");i(r).css("background-image"," url("+t.target.result+")");i(r).hide();i(r).fadeIn(650)};t.readAsDataURL(n.files[0])}}n(this)})}};n.$.Plato.Http=function(t){var r=n.$.Plato.Context,u;return r&&r.logger.logInfo("$.Plato.Http - Starting Request: "+JSON.stringify(t,null,"     ")),t.headers={"Content-Type":"application/json","X-Api-Version":"1"},u=function(){var n=function(n,t){r&&r.logger.logInfo("$.Plato.Http - Error: "+JSON.stringify(t,null,"     "))},t=function(n){r&&r.logger.logInfo("$.Plato.Http - Completed: "+JSON.stringify(n,null,"     "))};return{onError:function(n){n=n},onAlways:function(n){n=n},promise:function(r){return i.ajax(r).fail(function(t,i,u){n&&n(r,t,i,u)}).always(function(n,i){t&&t(n,i)})}}}(),u.promise(t)};i(t).ready(function(){var n=i.Plato.Context;n.logger.logInfo("$.Plato.Options = "+JSON.stringify(n.options(),null,"     "));i.Plato.UI.init(n)})}(window,document,jQuery));