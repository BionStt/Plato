if(typeof jQuery=="undefined")throw new Error("Plato requires jQuery");$.Plato={};$.Plato.Options={debug:!0,BSToolTipEnabled:!0,BSToolTipSelector:"[data-toggle='tooltip']",MagnificSelector:"[data-toggle='dialog']",AvatarUploadSelector:"[data-upload='avatar']"};$.Plato.Logger={info:"Info",warning:"Warning",error:"Error",logInfo:function(n){this.log(this.info,n)},logWarning:function(n){this.log(this.warning,n)},logError:function(n){this.log(this.error,n)},log:function(n,t){$.Plato.Options.debug&&console.log(n+": "+t+(new Date).getTime()*1e4)}};$(function(n,t,i){"use strict";typeof PlatoOptions!="undefined"&&i.extend(!0,i.Plato.Options,window.PlatoOptions);var r={options:i.Plato.Options,logger:i.Plato.Logger};r.logger.logInfo("$.Plato.Options = "+JSON.stringify(r.options,null,"     "));i(t).ready(function(){r.logger.logInfo("$(doc).ready()");i.Plato.UI.init(r)})}(window,document,jQuery));$.Plato.UI={context:null,init:function(n){this.context=n;this.initToolTips();this.initDropDowns();this.initAvatar();this.initMarkDown()},logInfo:function(n){this.context.logger.logInfo(n)},logError:function(n){this.context.logger.logError(n)},initToolTips:function(){this.logInfo("initToolTips()");this.context.options.BSToolTipEnabled&&($(this.context.options.BSToolTipSelector).tooltip(),this.logInfo("Bootstratp tooltipss initialized."))},initDropDowns:function(){this.logInfo("initDropDowns()");$("ul.dropdown-menu [data-toggle='dropdown']").on("click",function(n){n.preventDefault();n.stopPropagation();$("ul.dropdown-menu [data-toggle='dropdown']").parent().removeClass("show");$(this).parent().addClass("show")})},initAvatar:function(){this.logInfo("initAvatar()");$(this.context.options.AvatarUploadSelector).change(function(){function n(n){if(n.files&&n.files[0]){var t=new FileReader;t.onload=function(t){var i=$(n).attr("data-upload-preview-selector");$(i).css("background-image"," url("+t.target.result+")");$(i).hide();$(i).fadeIn(650)};t.readAsDataURL(n.files[0])}}n(this)})},initMarkDown:function(){this.logInfo("initMarkDown()");$(".md-textarea").markdown({autofocus:!1,savable:!1,resize:!0,allowedUploadExtensions:[".gif",".jpg",".jpeg",".png"],baseUrl:"http://localhost:50439/",hiddenButtons:null,onPreview:function(n){var t="",i=n.getContent();return i&&_kb.markdown.post({input:i},function(n){t=n}),t},footer:function(){return""},fullscreen:{enable:!0},minRows:4,maxRows:15})}};