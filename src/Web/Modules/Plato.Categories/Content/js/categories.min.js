if(typeof jQuery=="undefined")throw new Error("jQuery 3.3.1 or above Required");if(typeof $().modal=="undefined")throw new Error("BootStrap 4.1.1 or above Required");if(typeof window.$.Plato=="undefined")throw new Error("$.Plato Required");if(typeof window.$.fn.platoUI=="undefined")throw new Error("$.Plato UI Required");$(function(n,t,i){"use strict";var r=n.$.Plato,u=function(){var n="categoryDropdown",u=n+"Id",r={onCategoryUpdated:function(){}},t={init:function(n,t){if(t)return this[t]!==null&&typeof this[t]!="undefined"?this[t].apply(this,[n]):alert(t+" is not a valid method!"),null;this.bind(n)},bind:function(n){t.bindSelect(n);t.bindTree(n)},bindSelect:function(u){u.selectDropdown(i.extend({itemTemplate:'<li class="list-group-item"><span class="btn btn-sm label font-weight-bold" style="background-color: {backColor}; color: {foreColor};">{name}<\/span><a href="#" class="btn btn-secondary float-right select-dropdown-delete" data-toggle="tooltip" title="Delete"><i class="fal fa-times"><\/i><\/a><\/li>',parseItemTemplate:function(n,t){var r=i('<div class="list-group-item">');return r.append(t.clone().removeAttr("for")),r},onAddItem:function(n){n.val("")},onShow:function(n,t){var i=t.find('[data-provide="tree"]'),r=t.find('[type="search"]');r.length>0&&r.focus().filterList({target:i});i.length>0&&i.treeView("scrollToSelected")},onChange:function(n,r,f){f.preventDefault();f.stopPropagation();var e=n.find("input:checked");e.length>0?e.each(function(){var e=i(this).attr("id"),r=n.find('[for="'+e+'"]'),f;r.length>0&&(f=t.getIndex(u,r),f===-1?(n.data("selectDropdown").items=[],n.data("selectDropdown").items.push(r),n.selectDropdown("update")):n.selectDropdown({highlightIndex:f},"highlight"))}):(n.data("selectDropdown").items=[],n.selectDropdown("update"))},onUpdated:function(t){var r=0,f=t.data("selectDropdown").items,i;if(f.length>0)for(i=0;i<f.length;i++)f[i].data("categoryId")&&(r=parseInt(f[i].data("categoryId")),isNaN(r)&&(r=0));if(u.data(n).onCategoryUpdated)u.data(n).onCategoryUpdated(u,r)}},r,u.data(n)))},bindTree:function(t){t.find('[data-provide="tree"]').treeView(i.extend({onClick:function(n,t,r){r.preventDefault();r.stopPropagation();var u=t.find("input").first();u.each(function(){i(this).is(":checked")?i(this).prop("checked",!1):i(this).prop("checked",!0);i(this).trigger("change")})},onToggle:function(n,t,i){return i.preventDefault(),i.stopPropagation(),!0}},r,t.data(n)),"expandAll")},getIndex:function(n,t){var f=n.data("selectDropdown").ensureUnique,e=n.data("selectDropdown"),u=e.items,r=-1,i;if(f===!1)return r;for(i=0;i<u.length;i++)t.attr("for")===u[i].attr("for")&&(r=i);return r}};return{init:function(){for(var o,h,e={},f=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:f=o}}if(this.length>0)return this.each(function(){if(i(this).data(u))i(this).data(n,i.extend({},i(this).data(n),e));else{var o=n+parseInt(Math.random()*1e3)+(new Date).getTime();i(this).data(u,o);i(this).data(n,i.extend({},r,e))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},r,e)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}(),f=function(){var n="categoryIconModal",r=n+"Id",u={event:"click"},t={init:function(n,i){if(i){this[i]?this[i].apply(this,[n]):alert(i+" is not a valid method!");return}t.bind(n)},bind:function(n){var t=null,f=n.attr("data-icon-prefix"),r=i(n.attr("href")),e=r.find("input[name=iconCss]"),u=r.find("input[name=iconCss]:checked");u.length>0&&(t=u.val());e.change(function(){t=i(this).val()});r.on("shown.bs.modal",function(){var n=r.find('[type="search"]');n.length>0&&n.focus()});r.on("hidden.bs.modal",function(){if(t!==null&&t!==""){var i=n.find("i");i.length>0&&i.removeClass().addClass(f+t)}})},unbind:function(n){n.unbind("hidden.bs.modal")}};return{init:function(){for(var o,h,e={},f=null,s=0;s<arguments.length;++s){o=arguments[s];switch(o.constructor){case Object:i.extend(e,o);break;case String:f=o}}if(this.length>0)return this.each(function(){if(i(this).data(r))i(this).data(n,i.extend({},i(this).data(n),e));else{var o=n+parseInt(Math.random()*100)+(new Date).getTime();i(this).data(r,o);i(this).data(n,i.extend({},u,e))}t.init(i(this),f)});f&&(t[f]?(h=i("body"),h.data(n,i.extend({},u,e)),t[f].apply(this,[h])):alert(f+" is not a valid method!"))}}}();i.fn.extend({categoryIconModal:f.init,categoryDropdown:u.init});r.ready(function(){i('[data-provide="icon-wrapper-modal"]').categoryIconModal();i('[data-provide="category-dropdown"]').categoryDropdown()})}(window,document,jQuery));